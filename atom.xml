<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Anoyer&#39;s Blog</title>
  
  
  <link href="/atom.xml" rel="self"/>
  
  <link href="https://anoyer.cn/"/>
  <updated>2019-01-22T09:33:20.420Z</updated>
  <id>https://anoyer.cn/</id>
  
  <author>
    <name>John Doe</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>2019-Wannafly-Camp-day3</title>
    <link href="https://anoyer.cn/article/2019-Wannafly-Camp-day3.html"/>
    <id>https://anoyer.cn/article/2019-Wannafly-Camp-day3.html</id>
    <published>2019-01-22T08:46:05.000Z</published>
    <updated>2019-01-22T09:33:20.420Z</updated>
    
    <content type="html"><![CDATA[<p><img src="https://img.vim-cn.com/f2/484495aaf8ccc040c916388f713b9606b575a9.jpg" alt=""></p><h3 id="自闭感受"><a href="#自闭感受" class="headerlink" title="自闭感受"></a>自闭感受</h3><blockquote><p>参加Camp的第三天，上午是数据结构专题分享，<font color="Red" size="6" face="宋体">dls</font> <del><font color="Blue" size="face=">不打CF，分数可能比我们都低的2300分只打过三场的巨巨队友</font></del> <font color="orange" size="6" face="宋体">wls</font>来给我们讲的:satisfied:。比起昨天的数论专场，今天感觉好多了，懵逼少很多还能跟上节奏。wls是带着题目来给我们讲常见的数据结构运用，比如堆，并查集，线段树，平衡树等等。下午原本以为是数据结构专题训练，便戏耍的和lyy说下午你专场我回去了哈:runner:。结果下午题目比day1,day2还难，而且不是想象中的数据结构专题。一开始我便瞄到了F题，好眼熟！！！这不是莫比乌斯反演吗？就开始怼了。lyy开了D，结果这:fu:SB不会写，我先放了下F题，看了下G题发现G题是个签到题 <del>(上面写的)</del> 。我就叫他看G，然后我切回了我的F。一波推式子，发现思路可行就巴拉巴拉敲了起来，中间因为炸int问题wa了几发，SB了！队友G题比我先过了，确实是个签到题:satisfied:。最后有个乌龙，4点多的样子，队友和旁队的一起随机猜吧A题(因为只有2组数据，一共就1024种情况)，竟然A了，然后大喊了一声答案，果断一波A的AC流。不知道出题人看到会心咋想</p><p>感受：非常难得场上A出一道正儿八经的数论反演题，开森，同时发现队伍配合实在差，必须好好抓抓，不然要GG，尤其新人。</p></blockquote><h3 id="上题解（后期补题会更新其他能力范围内的题解）"><a href="#上题解（后期补题会更新其他能力范围内的题解）" class="headerlink" title="上题解（后期补题会更新其他能力范围内的题解）"></a>上题解（后期补题会更新其他能力范围内的题解）</h3><p><a href="https://www.zhixincode.com/contest/13/problem/F?problem_id=198" target="_blank" rel="noopener"><strong>F - 小清新数论</strong></a></p><p><img src="https://img.vim-cn.com/dd/e6816d67533addfa71845ecb7006a9fffb5419.png" alt=""></p><p><img src="https://img.vim-cn.com/66/72701cc7e152510eee855e55e9ad6719988afd.png" alt=""></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> LL long long</span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span>  maxn = <span class="number">1e7</span>+<span class="number">9</span>;</span><br><span class="line"><span class="keyword">const</span> LL mod = <span class="number">998244353</span>;</span><br><span class="line">LL phi[maxn],miu[maxn],fac[maxn];<span class="comment">//phi--欧拉函数表  miu--莫比乌斯函数表  fac--i最大的素因子辅助打phi表</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">init</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; maxn; ++i) fac[i] = i;</span><br><span class="line">phi[<span class="number">1</span>] = miu[<span class="number">1</span>] = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">2</span>; i &lt; maxn; ++i)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span> (fac[i] == i)</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> j = i &lt;&lt; <span class="number">1</span>; j &lt; maxn; j += i)</span><br><span class="line">fac[j] = i;</span><br><span class="line"><span class="keyword">if</span> (i / fac[i] % fac[i]) phi[i] = (fac[i] - <span class="number">1</span>)*phi[i / fac[i]], miu[i] = -miu[i / fac[i]]; <span class="comment">//如果b质数  a%b！=0  phi(a*b) = phi(a)*b - phi(a)</span></span><br><span class="line"><span class="keyword">else</span> phi[i] = fac[i] * phi[i / fac[i]], miu[i] = <span class="number">0</span>;<span class="comment">//当b是质数，a%b==0，phi(a*b)=phi(a)*b</span></span><br><span class="line">&#125;</span><br><span class="line">phi[<span class="number">1</span>]=<span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;maxn;i++)phi[i]=phi[i]+phi[i<span class="number">-1</span>];</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    init();</span><br><span class="line">    LL n;</span><br><span class="line">    <span class="built_in">cin</span>&gt;&gt;n;</span><br><span class="line">    LL NN=n;</span><br><span class="line">    LL ans=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(LL i=<span class="number">1</span>;i&lt;=NN;i++)&#123;</span><br><span class="line">        LL res=(phi[NN/i]*(LL)<span class="number">2</span>+<span class="number">1</span>)%mod;</span><br><span class="line">        ans=(ans+miu[i]*res%mod)%mod;</span><br><span class="line">        <span class="keyword">while</span>(ans&lt;<span class="number">0</span>)ans+=mod;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"%lld\n"</span>,ans);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><a href="https://www.zhixincode.com/contest/13/problem/G?problem_id=199" target="_blank" rel="noopener"><strong>G - 排列</strong></a></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">include&lt;stdio.h&gt;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn =<span class="number">1e5</span>+<span class="number">10</span>;</span><br><span class="line"><span class="keyword">int</span> a[maxn];</span><br><span class="line"><span class="keyword">int</span> q[maxn];</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;n);</span><br><span class="line">    <span class="keyword">int</span> cnt=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> pre=maxn+<span class="number">10</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++)&#123;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;a[i]);</span><br><span class="line"><span class="keyword">if</span>(a[i]&gt;pre)</span><br><span class="line">q[a[i]]=cnt;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">q[a[i]]=++cnt;</span><br><span class="line">pre=a[i];</span><br><span class="line">    &#125;</span><br><span class="line">    cnt=q[<span class="number">1</span>];</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"%d "</span>,cnt);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">2</span>;i&lt;=n;i++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(q[i]&lt;q[i<span class="number">-1</span>])</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"%d "</span>,q[i]);</span><br><span class="line">        <span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"%d "</span>,++cnt);</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;&lt;img src=&quot;https://img.vim-cn.com/f2/484495aaf8ccc040c916388f713b9606b575a9.jpg&quot; alt=&quot;&quot;&gt;&lt;/p&gt;&lt;h3 id=&quot;自闭感受&quot;&gt;&lt;a href=&quot;#自闭感受&quot; class=&quot;headerlin
      
    
    </summary>
    
      <category term="2019 Wannafly Winter Came" scheme="https://anoyer.cn/categories/2019-Wannafly-Winter-Came/"/>
    
    
      <category term="Camp" scheme="https://anoyer.cn/tags/Camp/"/>
    
  </entry>
  
  <entry>
    <title>2019 Wannafly Camp day2</title>
    <link href="https://anoyer.cn/article/2019-Wannafly-Camp-day2.html"/>
    <id>https://anoyer.cn/article/2019-Wannafly-Camp-day2.html</id>
    <published>2019-01-21T14:23:52.000Z</published>
    <updated>2019-01-22T02:50:11.486Z</updated>
    
    <content type="html"><![CDATA[<p><img src="https://img.vim-cn.com/f9/42af229d9e21118cc1932bc020eb6b19e3540b.jpg" alt=""></p><h3 id="自闭感受"><a href="#自闭感受" class="headerlink" title="自闭感受"></a>自闭感受</h3><blockquote><p>今天上午<font color="Red" size="9" face="宋体">吉老师</font>吉老师给我们讲了一通数论知识，可以说是醍醐灌顶吧，半懂半懵<del>（简单的懂了，难的n^n脸懵逼）</del>，真的是菜的教不来啊:sob:<del><font color="Blue" size="1" face="宋体">不过吉老师不亏是WF金牌爷，属实强大啊</font></del>。下午数论自闭专场（好像大部分数论题都没几个做出来的:grinning:），自闭场了就写出2道题AH，有点难受，K题队友T了,B吃饭时候想出了正确的贪心策略。</p><p>开始我先开的A题，队友lyy和hxx开了K题，同时写崩，A题写半天发现怼的是div1的B题，K题lyy先T。后来A题瞎几把想了个假的贪心，贪最大值，果断wa了3发，发现是个假策略并算了算复杂度发现直接n方暴力。然后hxx的k也T了，对拍了波两人代码，发现没错误，那就凉了假算法。此时lyy便切到了B题，我开了H题，发现是个求球交体积的题目，取横截面积进行微积分<del>（我有板子自己裸板子过的）</del>，在这题还闹了个乌龙，样例完全正确后，我交了H并和队友说了句过了，队友说小心WA，秒回了“样例过了就是过了”,结果CE:sweat_smile:，有个结构体函数忘了函数类型，改改就A了。H过后便和lyy开始怼B题，因为K题实在不会了，目测是状压DP不会写。B题HACK了好几个YY出来的的假贪心策略之后，就直接去吃饭了，吃饭时候想到了贪长度，可惜已经GG了。</p><p>今天虽然是数论专场，但是感觉打脸最多的就是自己的假贪心策略，以后想出的策略觉得要证明正确性再写，一定不要莽</p></blockquote><h3 id="上题解（后期补题会更新其他能力范围内的题解）"><a href="#上题解（后期补题会更新其他能力范围内的题解）" class="headerlink" title="上题解（后期补题会更新其他能力范围内的题解）"></a>上题解（后期补题会更新其他能力范围内的题解）</h3><p><a href="https://www.zhixincode.com/contest/8/problem/A?problem_id=122" target="_blank" rel="noopener"><strong>A-Erase Numbers II</strong></a></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> ull unsigned long long</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn = <span class="number">6e3</span> + <span class="number">10</span>;</span><br><span class="line">ull a[maxn];</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">slove</span><span class="params">(ull &amp;a, ull b)</span></span>&#123;</span><br><span class="line">    <span class="keyword">while</span>(b)&#123;</span><br><span class="line">        a *= <span class="number">10</span>;</span><br><span class="line">        b /= <span class="number">10</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> t, t1 = <span class="number">1</span>;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;t);</span><br><span class="line">    <span class="keyword">while</span>(t--)&#123;</span><br><span class="line">        <span class="keyword">int</span> n;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;n);</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; ++i)</span><br><span class="line">            <span class="built_in">cin</span> &gt;&gt; a[i];</span><br><span class="line">        ull ans = <span class="number">0</span>, temp;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n - <span class="number">1</span>; ++i)&#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j = i + <span class="number">1</span>; j &lt; n; ++j)&#123;</span><br><span class="line">                temp = a[i];</span><br><span class="line">                slove(temp, a[j]);</span><br><span class="line">                ans = max(ans, temp + a[j]);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"Case #"</span> &lt;&lt; t1++ &lt;&lt; <span class="string">": "</span> &lt;&lt; ans &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><a href="https://www.zhixincode.com/contest/8/problem/H?problem_id=129" target="_blank" rel="noopener"><strong>H-Cosmic Cleaner</strong></a></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">double</span> PI = <span class="built_in">acos</span>(<span class="number">-1.0</span>);</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn=<span class="number">120</span>;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">point</span> &#123;</span></span><br><span class="line">    <span class="keyword">double</span> x,y,z;</span><br><span class="line">    point() &#123;&#125;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Init</span><span class="params">(<span class="keyword">double</span> a, <span class="keyword">double</span> b,<span class="keyword">double</span> c)</span></span>&#123;</span><br><span class="line">        x = a;</span><br><span class="line">        y = b;</span><br><span class="line">        z = c;</span><br><span class="line">    &#125;</span><br><span class="line">    point(<span class="keyword">double</span> a, <span class="keyword">double</span> b,<span class="keyword">double</span> c)&#123;</span><br><span class="line">        x = a;</span><br><span class="line">        y = b;</span><br><span class="line">        z = c;</span><br><span class="line">    &#125;</span><br><span class="line">    point <span class="keyword">operator</span> -(<span class="keyword">const</span> point &amp;b)<span class="keyword">const</span> &#123;     <span class="comment">//返回减去后的新点</span></span><br><span class="line">        <span class="keyword">return</span> point(x - b.x, y - b.y,z-b.z);</span><br><span class="line">    &#125;</span><br><span class="line">    point <span class="keyword">operator</span> +(<span class="keyword">const</span> point &amp;b)<span class="keyword">const</span> &#123;     <span class="comment">//返回加上后的新点</span></span><br><span class="line">        <span class="keyword">return</span> point(x + b.x, y + b.y,z+b.z);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//数乘计算</span></span><br><span class="line">    point <span class="keyword">operator</span> *(<span class="keyword">const</span> <span class="keyword">double</span> &amp;k)<span class="keyword">const</span> &#123;    <span class="comment">//返回相乘后的新点</span></span><br><span class="line">        <span class="keyword">return</span> point(x * k, y * k,z*k);</span><br><span class="line">    &#125;</span><br><span class="line">    point <span class="keyword">operator</span> /(<span class="keyword">const</span> <span class="keyword">double</span> &amp;k)<span class="keyword">const</span> &#123;    <span class="comment">//返回相除后的新点</span></span><br><span class="line">        <span class="keyword">return</span> point(x / k, y / k,z/k);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">double</span> <span class="keyword">operator</span> *(<span class="keyword">const</span> point &amp;b)<span class="keyword">const</span> &#123;    <span class="comment">//点乘</span></span><br><span class="line">        <span class="keyword">return</span> x*b.x + y*b.y+z*b.z;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="keyword">double</span> <span class="title">dist</span><span class="params">(point p1, point p2)</span> </span>&#123;       <span class="comment">//返回平面上两点距离</span></span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">sqrt</span>((p1 - p2)*(p1 - p2));</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">sphere</span> &#123;</span><span class="comment">//球</span></span><br><span class="line">    <span class="keyword">double</span> r;</span><br><span class="line">    point centre;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">SphereInterVS</span><span class="params">(sphere a, sphere b,<span class="keyword">double</span> &amp;v)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">double</span> d = dist(a.centre, b.centre);<span class="comment">//球心距</span></span><br><span class="line">    <span class="keyword">if</span>(d&gt;=a.r+b.r)<span class="keyword">return</span>;</span><br><span class="line">    <span class="keyword">if</span>(a.r-d&gt;=b.r)&#123;</span><br><span class="line">        v+=PI*<span class="number">4.0</span>/<span class="number">3.0</span>*b.r*b.r*b.r;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(a.r&lt;=b.r-d)&#123;</span><br><span class="line">        v+=PI*<span class="number">4.0</span>/<span class="number">3.0</span>*a.r*a.r*a.r;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">double</span> t = (d*d + a.r*a.r - b.r*b.r) / (<span class="number">2.0</span> * d);<span class="comment">//</span></span><br><span class="line">    <span class="keyword">double</span> h = <span class="built_in">sqrt</span>((a.r*a.r) - (t*t)) * <span class="number">2</span>;<span class="comment">//h1=h2，球冠的高</span></span><br><span class="line">    <span class="keyword">double</span> angle_a = <span class="number">2</span> * <span class="built_in">acos</span>((a.r*a.r + d*d - b.r*b.r) / (<span class="number">2.0</span> * a.r*d));  <span class="comment">//余弦公式计算r1对应圆心角，弧度</span></span><br><span class="line">    <span class="keyword">double</span> angle_b = <span class="number">2</span> * <span class="built_in">acos</span>((b.r*b.r + d*d - a.r*a.r) / (<span class="number">2.0</span> * b.r*d));  <span class="comment">//余弦公式计算r2对应圆心角，弧度</span></span><br><span class="line">    <span class="keyword">double</span> l1 = ((a.r*a.r - b.r*b.r) / d + d) / <span class="number">2</span>;</span><br><span class="line">    <span class="keyword">double</span> l2 = d - l1;</span><br><span class="line">    <span class="keyword">double</span> x1 = a.r - l1, x2 = b.r - l2;<span class="comment">//分别为两个球缺的高度</span></span><br><span class="line">    <span class="keyword">double</span> v1 = PI*x1*x1*(a.r - x1 / <span class="number">3</span>);<span class="comment">//相交部分r1圆所对应的球缺部分体积</span></span><br><span class="line">    <span class="keyword">double</span> v2 = PI*x2*x2*(b.r - x2 / <span class="number">3</span>);<span class="comment">//相交部分r2圆所对应的球缺部分体积</span></span><br><span class="line">     v += v1 + v2;<span class="comment">//相交部分体积</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Node</span>&#123;</span></span><br><span class="line">    <span class="keyword">double</span> x,y,z,r;</span><br><span class="line">&#125;a[maxn];</span><br><span class="line"><span class="keyword">double</span> x,y,z,r;</span><br><span class="line"><span class="keyword">int</span> n;</span><br><span class="line"><span class="function"><span class="keyword">double</span> <span class="title">Solve</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">double</span> v=<span class="number">0</span>;</span><br><span class="line">    sphere A,B;</span><br><span class="line">    A.r=r;</span><br><span class="line">    A.centre.Init(x,y,z);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n;i++)&#123;</span><br><span class="line">        B.r=a[i].r;</span><br><span class="line">        B.centre.Init(a[i].x,a[i].y,a[i].z);</span><br><span class="line">        SphereInterVS(A,B,v);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> v;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> t,tt=<span class="number">1</span>;</span><br><span class="line">    <span class="comment">/*sphere A,B;</span></span><br><span class="line"><span class="comment">    A.r=1;</span></span><br><span class="line"><span class="comment">    A.centre.Init(0,0,0);</span></span><br><span class="line"><span class="comment">    B.r=1;</span></span><br><span class="line"><span class="comment">    B.centre.Init(0,0,0);</span></span><br><span class="line"><span class="comment">    double v=0;</span></span><br><span class="line"><span class="comment">    SphereInterVS(A,B,v);</span></span><br><span class="line"><span class="comment">    printf("%lf",v);*/</span></span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;t);</span><br><span class="line">    <span class="keyword">while</span>(tt&lt;=t)&#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;n);</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n;i++)&#123;</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">"%lf%lf%lf%lf"</span>,&amp;a[i].x,&amp;a[i].y,&amp;a[i].z,&amp;a[i].r);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%lf%lf%lf%lf"</span>,&amp;x,&amp;y,&amp;z,&amp;r);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"Case #%d: %.10lf\n"</span>,tt++,Solve());</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;&lt;img src=&quot;https://img.vim-cn.com/f9/42af229d9e21118cc1932bc020eb6b19e3540b.jpg&quot; alt=&quot;&quot;&gt;&lt;/p&gt;&lt;h3 id=&quot;自闭感受&quot;&gt;&lt;a href=&quot;#自闭感受&quot; class=&quot;headerlin
      
    
    </summary>
    
      <category term="2019 Wannafly Winter Came" scheme="https://anoyer.cn/categories/2019-Wannafly-Winter-Came/"/>
    
    
      <category term="Camp" scheme="https://anoyer.cn/tags/Camp/"/>
    
  </entry>
  
  <entry>
    <title>2019 Wannafly Camp Day 1</title>
    <link href="https://anoyer.cn/article/2019-Wannafly-Camp-day1.html"/>
    <id>https://anoyer.cn/article/2019-Wannafly-Camp-day1.html</id>
    <published>2019-01-20T14:19:23.000Z</published>
    <updated>2019-01-22T02:49:41.659Z</updated>
    
    <content type="html"><![CDATA[<p><img src="https://img.vim-cn.com/77/b5f7fb8cdb6e8693ddacd6ee9704f3010410e7.jpg" alt=""></p><h3 id="自闭感受"><a href="#自闭感受" class="headerlink" title="自闭感受"></a>自闭感受</h3><blockquote><p>第一次参加这种线下的算法Camp，不得不说和队友都是内心非常的小鸡动。上午开幕式wls讲了一堆话，差不多就是一起呲逼加鸡汤吧<del>（哈哈希望wls不要打死我）</del>。下午就是day训练赛了，因为一个主力队友生病没来，带着一个新队友2排，直接跳过了图论和DP题，差点就死怼C构造和E暴零自闭了，最后发现J题原题一发A，最后C题放弃了构造去写了100*100的暴力过了<del>（抹汗）</del>。自己还是太菜了，还有好多成长空间，细节，第一解题反应，耐心等等。</p></blockquote><h3 id="不多说上题解（后期补题会更新其他能力范围内的题解）"><a href="#不多说上题解（后期补题会更新其他能力范围内的题解）" class="headerlink" title="不多说上题解（后期补题会更新其他能力范围内的题解）"></a>不多说上题解（后期补题会更新其他能力范围内的题解）</h3><p><a href="https://www.zhixincode.com/contest/1/problem/B?problem_id=13" target="_blank" rel="noopener"><strong>B-吃豆豆</strong></a></p><p>思路：3维DP维护一个3维数组，表示(i,j)位置第K秒有多少糖果，通过k-1秒5个位置转移得到(i,j,k)</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn=<span class="number">1200</span>;</span><br><span class="line"><span class="keyword">int</span> dp[<span class="number">20</span>][<span class="number">20</span>][<span class="number">1200</span>];</span><br><span class="line"><span class="keyword">int</span> mp[<span class="number">20</span>][<span class="number">20</span>];</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n,m,c,xs,ys,xt,yt;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%d%d%d"</span>,&amp;n,&amp;m,&amp;c);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++)</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">1</span>;j&lt;=m;j++)<span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;mp[i][j]);</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%d%d%d%d"</span>,&amp;xs,&amp;ys,&amp;xt,&amp;yt);</span><br><span class="line">    <span class="built_in">memset</span>(dp,<span class="number">0</span>,<span class="keyword">sizeof</span>(dp));</span><br><span class="line">    dp[xs][ys][<span class="number">0</span>]=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> k=<span class="number">1</span>;k&lt;<span class="number">1200</span>;k++)</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++)</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">1</span>;j&lt;=m;j++)&#123;</span><br><span class="line">        dp[i][j][k]=max(&#123;dp[i<span class="number">-1</span>][j][k<span class="number">-1</span>],dp[i][j+<span class="number">1</span>][k<span class="number">-1</span>],dp[i+<span class="number">1</span>][j][k<span class="number">-1</span>],dp[i][j<span class="number">-1</span>][k<span class="number">-1</span>],dp[i][j][k<span class="number">-1</span>]&#125;)+(k%mp[i][j]==<span class="number">0</span>?<span class="number">1</span>:<span class="number">0</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> _max=<span class="number">-1</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;<span class="number">1200</span>;i++)<span class="keyword">if</span>(dp[xt][yt][i]&gt;=c)&#123;_max=i;<span class="keyword">break</span>;&#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"%d\n"</span>,_max);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><a href="https://www.zhixincode.com/contest/1/problem/C?problem_id=14" target="_blank" rel="noopener"><strong>C-拆拆拆数</strong></a></p><p>思路：题目只有1和2的情况，如果ab互质则为1，如果不互质n为2，且一定存在答案（第一感觉是这样）。开始我对n=2的情况去构造，发现一直wa<del>（菜哭了）</del>，后来A了J题后重新换了100*100暴力枚举两组ai,bi。</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn=<span class="number">1e9</span>+<span class="number">7</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> mod=<span class="number">1e5</span>+<span class="number">7</span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> t;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;t);</span><br><span class="line">    <span class="keyword">while</span>(t--)&#123;</span><br><span class="line">        ll a,b;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%lld%lld"</span>,&amp;a,&amp;b);</span><br><span class="line">        <span class="keyword">if</span>(__gcd(a,b)==<span class="number">1</span>)&#123;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"1\n%lld %lld\n"</span>,a,b);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="keyword">int</span> flag=<span class="number">0</span>;</span><br><span class="line">            <span class="keyword">for</span>(ll i=<span class="number">2</span>;i&lt;=<span class="number">100</span>;i++)&#123;</span><br><span class="line">                <span class="keyword">for</span>(ll j=<span class="number">2</span>;i&lt;=<span class="number">100</span>;i++)&#123;</span><br><span class="line">                    <span class="keyword">if</span>(__gcd(a-i,b-j)==<span class="number">1</span>&amp;&amp;__gcd(i,j)==<span class="number">1</span>)&#123;</span><br><span class="line">                        <span class="built_in">printf</span>(<span class="string">"2\n%lld %lld\n"</span>,i,j);</span><br><span class="line">                        <span class="built_in">printf</span>(<span class="string">"%lld %lld\n"</span>,a-i,a-j);</span><br><span class="line">                        flag=<span class="number">1</span>;</span><br><span class="line">                        <span class="keyword">break</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span>(flag)<span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><a href="https://www.zhixincode.com/contest/1/problem/F?problem_id=17" target="_blank" rel="noopener"><strong>F-爬爬爬山</strong></a></p><p>第一座山的高度确定了，R[1]。当前体力为k，山与山之间的边权为w。那么当后面山的高度大于R[1]+k的时候就需要将山的高度降低。上山消耗体力，下山增加体力，其实就相同高度低于R[1]的时候这个山不存在。因为如果碰到了一个在高的山，增加的体力就被抵消了，相同于没有。那就将边权加上多出来的那部分，（R[x]-（R[1]+k）)^2，然后跑最短路就行了。</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn=<span class="number">1e5</span>+<span class="number">10</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">long</span> <span class="keyword">long</span> inf=<span class="number">0x3f3f3f3f3f3f3f3f</span>;</span><br><span class="line"><span class="keyword">long</span> <span class="keyword">long</span> dis[maxn];</span><br><span class="line"><span class="keyword">bool</span> vis[maxn];</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">node</span>&#123;</span></span><br><span class="line">    <span class="keyword">int</span> u,dis;</span><br><span class="line">    <span class="keyword">bool</span> <span class="keyword">operator</span> &lt; (<span class="keyword">const</span> node &amp;r)<span class="keyword">const</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> dis&gt;r.dis;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">edge</span>&#123;</span></span><br><span class="line">    <span class="keyword">int</span> v,w,next;</span><br><span class="line">&#125;e[maxn*<span class="number">10</span>];</span><br><span class="line"><span class="keyword">int</span> head[maxn*<span class="number">10</span>],hcnt=<span class="number">0</span>;</span><br><span class="line"><span class="keyword">int</span> n,m,k;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">add</span><span class="params">(<span class="keyword">int</span> u,<span class="keyword">int</span> v,<span class="keyword">int</span> w)</span></span>&#123;</span><br><span class="line">    e[hcnt]=edge&#123;v,w,head[u]&#125;;</span><br><span class="line">    head[u]=hcnt++;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">dij</span><span class="params">(<span class="keyword">int</span> start)</span></span>&#123;</span><br><span class="line">    priority_queue&lt;node&gt; que;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++)</span><br><span class="line">        vis[i]=<span class="literal">false</span>,dis[i]=inf;</span><br><span class="line">    que.push(&#123;start,<span class="number">0</span>&#125;);</span><br><span class="line">    dis[start]=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(!que.empty())&#123;</span><br><span class="line">        <span class="keyword">int</span> u=que.top().u;</span><br><span class="line">        que.pop();</span><br><span class="line">        <span class="keyword">if</span>(vis[u])<span class="keyword">continue</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=head[u];i&gt;=<span class="number">0</span>;i=e[i].next)&#123;</span><br><span class="line">            <span class="keyword">int</span> v=e[i].v;</span><br><span class="line">            <span class="keyword">if</span>(dis[v]&gt;dis[u]+e[i].w)</span><br><span class="line">            dis[v]=dis[u]+e[i].w,que.push(&#123;v,dis[v]&#125;);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">int</span> r[maxn];</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="built_in">memset</span>(head,<span class="number">-1</span>,<span class="keyword">sizeof</span>(head));</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%d%d%d"</span>,&amp;n,&amp;m,&amp;k);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++)<span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;r[i]);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=m;i++)&#123;</span><br><span class="line">        <span class="keyword">int</span> u,v,w;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%d%d%d"</span>,&amp;u,&amp;v,&amp;w);</span><br><span class="line">        add(u,v,w+max(<span class="number">0</span>,r[v]-(r[<span class="number">1</span>]+k))*max(<span class="number">0</span>,r[v]-(r[<span class="number">1</span>]+k)));</span><br><span class="line">        add(v,u,w+max(<span class="number">0</span>,r[u]-(r[<span class="number">1</span>]+k))*max(<span class="number">0</span>,r[u]-(r[<span class="number">1</span>]+k)));</span><br><span class="line">    &#125;</span><br><span class="line">    dij(<span class="number">1</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"%lld\n"</span>,dis[n]);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><a href="https://www.zhixincode.com/contest/1/problem/J?problem_id=21" target="_blank" rel="noopener"><strong>J-夺宝奇兵</strong></a></p><p>思路：看着题比较晚了，一看woc这不就是CF原题嘛，考虑枚举最终票数。枚举完票数就开始处理，把每个党超过这个票数且收钱最少的人收买过来，如果这些人都收买完了可是还没有达到预定的票数，就一直收买之前还没有收买过的学生直到人数达标,就这样巴拉巴拉A了</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits\stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">int</span> n,m,ns,cnt[<span class="number">3005</span>],Sum[<span class="number">3005</span>];</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">peo</span>&#123;</span></span><br><span class="line">    <span class="keyword">int</span> p,c,rk;</span><br><span class="line">&#125;a[<span class="number">3005</span>];</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">val</span>&#123;</span></span><br><span class="line">    <span class="keyword">int</span> rk,v;</span><br><span class="line">&#125;b[<span class="number">3005</span>];</span><br><span class="line"><span class="keyword">bool</span> vis[<span class="number">3005</span>];</span><br><span class="line">ll min_ans=<span class="number">-1</span>,ans;</span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">cmpa</span> <span class="params">(peo a,peo b)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(a.p==b.p) <span class="keyword">return</span> a.c&lt;b.c;</span><br><span class="line">    <span class="keyword">return</span> a.p&lt;b.p;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">cmpb</span> <span class="params">(val a,val b)</span></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> a.v&lt;b.v;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%d%d"</span>,&amp;m,&amp;n);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;++i)&#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%d%d"</span>,&amp;a[i].c,&amp;a[i].p);</span><br><span class="line">        a[i].p++;</span><br><span class="line">        a[i].rk=i;</span><br><span class="line">        b[i].rk=i;</span><br><span class="line">        b[i].v=a[i].c;</span><br><span class="line">    &#125;</span><br><span class="line">    sort(a+<span class="number">1</span>,a+<span class="number">1</span>+n,cmpa);</span><br><span class="line">    sort(b+<span class="number">1</span>,b+<span class="number">1</span>+n,cmpb);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;++i)</span><br><span class="line">        Sum[ a[i].p ]++;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> s=<span class="number">1</span>;s&lt;=n;++s)&#123;</span><br><span class="line">        ns=<span class="number">0</span>;</span><br><span class="line">        ans=<span class="number">0</span>;</span><br><span class="line">        <span class="built_in">memset</span>(vis,<span class="number">0</span>,<span class="keyword">sizeof</span>(vis));</span><br><span class="line">        <span class="built_in">memset</span>(cnt,<span class="number">0</span>,<span class="keyword">sizeof</span>(cnt));</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j=<span class="number">1</span>;j&lt;=n;++j)&#123;</span><br><span class="line">            <span class="keyword">if</span>(a[j].p==<span class="number">1</span>) ns++,vis[ a[j].rk ]=<span class="literal">true</span>;</span><br><span class="line">            <span class="keyword">else</span>&#123;</span><br><span class="line">                <span class="keyword">if</span>(Sum[ a[j].p ]-cnt[ a[j].p ]&gt;=s)&#123;</span><br><span class="line">                    vis[ a[j].rk ]=<span class="literal">true</span>;</span><br><span class="line">                    cnt[ a[j].p ]++;</span><br><span class="line">                    ans+=a[j].c;</span><br><span class="line">                    ns++;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;++i)&#123;</span><br><span class="line">            <span class="keyword">if</span>(ns&gt;=s) <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">if</span>(vis[ b[i].rk ]) <span class="keyword">continue</span>;</span><br><span class="line">            ns++;</span><br><span class="line">            ans+=b[i].v;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(min_ans==<span class="number">-1</span>) min_ans=ans;</span><br><span class="line">        min_ans=min(ans,min_ans);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;min_ans;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;&lt;img src=&quot;https://img.vim-cn.com/77/b5f7fb8cdb6e8693ddacd6ee9704f3010410e7.jpg&quot; alt=&quot;&quot;&gt;&lt;/p&gt;&lt;h3 id=&quot;自闭感受&quot;&gt;&lt;a href=&quot;#自闭感受&quot; class=&quot;headerlin
      
    
    </summary>
    
      <category term="2019 Wannafly Winter Came" scheme="https://anoyer.cn/categories/2019-Wannafly-Winter-Came/"/>
    
    
      <category term="Camp" scheme="https://anoyer.cn/tags/Camp/"/>
    
  </entry>
  
  <entry>
    <title>输入外挂总结</title>
    <link href="https://anoyer.cn/article/Fread.html"/>
    <id>https://anoyer.cn/article/Fread.html</id>
    <published>2019-01-18T09:20:46.000Z</published>
    <updated>2019-01-18T09:35:03.952Z</updated>
    
    <content type="html"><![CDATA[<p><img src="https://img.vim-cn.com/fe/820adeaed467d5e081d78583bc7970f749b59c.jpg" alt=""></p><h3 id="题外话"><a href="#题外话" class="headerlink" title="题外话"></a>题外话</h3><p>明明在C语言中有scanf()、printf()，C++中有cin、cout，为什么我们还要用输入输出外挂呢？</p><p>这个问题很明显，一定是因为这些输入输出函数功能过于强大而导致效率低，（很多时候，功能越强大的东西越臃肿），而我们使用的输入输出外挂既然叫外挂，那说明其一定有很大的优势，而这方面优势就体现在术有专攻上。原来的输入输出函数因为要应对不同类型的输入输出，所以内部一定做了很多的判断，而我们在遇见实际问题时，往往都是对特定类型的进行输入输出，所以这些判断就显得无用且浪费资源。这时，我们的输入输出外挂也就有了存在的必要性，也就应运而生。</p><p>我们都知道，scanf()、printf()、cin、cout其实就是对其他一些基础的获取或输出语句（getchar() putchar()等）进行封装，而这些基础的函数功能弱，效率高，所以我们的输入输出外挂也是仿照着scanf()、printf()、cin、cout来实现的，只不过做了针对性的改造，最终我们改造出来多种功能比scanf()等弱、比getchar()等强，效率比scanf()等高、比gerchar()等低的函数，从而达到针对性的作用，减少了不必要的资源消耗。</p><p>当然输入输出外挂一般用在大量输入输出的情况下，这样性价比才高一些，否则得不偿失（牺牲了代码长度而换来了微不足道的效率提升）。<br>摘抄原文：<a href="https://blog.csdn.net/f_zyj/article/details/51473493" target="_blank" rel="noopener">https://blog.csdn.net/f_zyj/article/details/51473493</a></p><h3 id="普通输入外挂-适用于正整数"><a href="#普通输入外挂-适用于正整数" class="headerlink" title="普通输入外挂(适用于正整数)"></a>普通输入外挂(适用于正整数)</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">read</span><span class="params">(<span class="keyword">int</span> &amp;x)</span></span>&#123;</span><br><span class="line"><span class="keyword">char</span> ch = getchar(); x = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span> (; ch &lt; <span class="string">'0'</span> || ch &gt; <span class="string">'9'</span>; ch = getchar());</span><br><span class="line"><span class="keyword">for</span> (; ch &gt;= <span class="string">'0'</span> &amp;&amp; ch &lt;= <span class="string">'9'</span>; ch = getchar()) x = x * <span class="number">10</span> + ch - <span class="string">'0'</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="整数输入外挂-适用于整数"><a href="#整数输入外挂-适用于整数" class="headerlink" title="整数输入外挂(适用于整数)"></a>整数输入外挂(适用于整数)</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> BufferSize=<span class="number">1</span>&lt;&lt;<span class="number">16</span>;</span><br><span class="line"><span class="keyword">char</span> buffer[BufferSize],*head,*tail;</span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="keyword">char</span> <span class="title">Getchar</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(head==tail) &#123;</span><br><span class="line">        <span class="keyword">int</span> l=fread(buffer,<span class="number">1</span>,BufferSize,<span class="built_in">stdin</span>);</span><br><span class="line">        tail=(head=buffer)+l;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> *head++;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="keyword">int</span> <span class="title">read</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> x=<span class="number">0</span>,f=<span class="number">1</span>;<span class="keyword">char</span> c=Getchar();</span><br><span class="line">    <span class="keyword">for</span>(;!<span class="built_in">isdigit</span>(c);c=Getchar()) <span class="keyword">if</span>(c==<span class="string">'-'</span>) f=<span class="number">-1</span>;</span><br><span class="line">    <span class="keyword">for</span>(;<span class="built_in">isdigit</span>(c);c=Getchar()) x=x*<span class="number">10</span>+c-<span class="string">'0'</span>;</span><br><span class="line">    <span class="keyword">return</span> x*f;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="加强版输入外挂-速度比普通输入外挂快不少"><a href="#加强版输入外挂-速度比普通输入外挂快不少" class="headerlink" title="加强版输入外挂(速度比普通输入外挂快不少)"></a>加强版输入外挂(速度比普通输入外挂快不少)</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">namespace</span> fastIO &#123;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> BUF_SIZE 100000</span></span><br><span class="line">    <span class="comment">//fread -&gt; read</span></span><br><span class="line">    <span class="keyword">bool</span> IOerror = <span class="number">0</span>;</span><br><span class="line">    <span class="function"><span class="keyword">inline</span> <span class="keyword">char</span> <span class="title">nc</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">static</span> <span class="keyword">char</span> buf[BUF_SIZE], *p1 = buf + BUF_SIZE, *pend = buf + BUF_SIZE;</span><br><span class="line">        <span class="keyword">if</span> (p1 == pend) &#123;</span><br><span class="line">            p1 = buf;</span><br><span class="line">            pend = buf + fread(buf, <span class="number">1</span>, BUF_SIZE, <span class="built_in">stdin</span>);</span><br><span class="line">            <span class="keyword">if</span> (pend == p1) &#123;</span><br><span class="line">                IOerror = <span class="number">1</span>;</span><br><span class="line">                <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> *p1++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">inline</span> <span class="keyword">bool</span> <span class="title">blank</span><span class="params">(<span class="keyword">char</span> ch)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> ch == <span class="string">' '</span> || ch == <span class="string">'\n'</span> || ch == <span class="string">'\r'</span> || ch == <span class="string">'\t'</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">inline</span> <span class="keyword">void</span> <span class="title">read</span><span class="params">(<span class="keyword">int</span> &amp;x)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">char</span> ch;</span><br><span class="line">        <span class="keyword">while</span> (blank(ch = nc()));</span><br><span class="line">        <span class="keyword">if</span> (IOerror) <span class="keyword">return</span>;</span><br><span class="line">        <span class="keyword">for</span> (x = ch - <span class="string">'0'</span>; (ch = nc()) &gt;= <span class="string">'0'</span> &amp;&amp; ch &lt;= <span class="string">'9'</span>; x = x * <span class="number">10</span> + ch - <span class="string">'0'</span>);</span><br><span class="line">    &#125;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">undef</span> BUF_SIZE</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> fastIO;</span><br></pre></td></tr></table></figure><h3 id="加强版完整型输入外挂包-速度快，适用于整形，浮点型"><a href="#加强版完整型输入外挂包-速度快，适用于整形，浮点型" class="headerlink" title="加强版完整型输入外挂包(速度快，适用于整形，浮点型)"></a>加强版完整型输入外挂包(速度快，适用于整形，浮点型)</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">namespace</span> fastIO&#123;</span><br><span class="line">    <span class="meta">#<span class="meta-keyword">define</span> BUF_SIZE 100000</span></span><br><span class="line">    <span class="meta">#<span class="meta-keyword">define</span> OUT_SIZE 100000</span></span><br><span class="line">    <span class="meta">#<span class="meta-keyword">define</span> ll long long</span></span><br><span class="line">    <span class="comment">//fread-&gt;read</span></span><br><span class="line">    <span class="keyword">bool</span> IOerror=<span class="number">0</span>;</span><br><span class="line">    <span class="function"><span class="keyword">inline</span> <span class="keyword">char</span> <span class="title">nc</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">static</span> <span class="keyword">char</span> buf[BUF_SIZE],*p1=buf+BUF_SIZE,*pend=buf+BUF_SIZE;</span><br><span class="line">        <span class="keyword">if</span> (p1==pend)&#123;</span><br><span class="line">            p1=buf; pend=buf+fread(buf,<span class="number">1</span>,BUF_SIZE,<span class="built_in">stdin</span>);</span><br><span class="line">            <span class="keyword">if</span> (pend==p1)&#123;IOerror=<span class="number">1</span>;<span class="keyword">return</span> <span class="number">-1</span>;&#125;</span><br><span class="line">            <span class="comment">//&#123;printf("IO error!\n");system("pause");for (;;);exit(0);&#125;</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> *p1++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">inline</span> <span class="keyword">bool</span> <span class="title">blank</span><span class="params">(<span class="keyword">char</span> ch)</span></span>&#123;<span class="keyword">return</span> ch==<span class="string">' '</span>||ch==<span class="string">'\n'</span>||ch==<span class="string">'\r'</span>||ch==<span class="string">'\t'</span>;&#125;</span><br><span class="line">    <span class="function"><span class="keyword">inline</span> <span class="keyword">void</span> <span class="title">read</span><span class="params">(<span class="keyword">int</span> &amp;x)</span></span>&#123;</span><br><span class="line">        <span class="keyword">bool</span> sign=<span class="number">0</span>; <span class="keyword">char</span> ch=nc(); x=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (;blank(ch);ch=nc());</span><br><span class="line">        <span class="keyword">if</span> (IOerror)<span class="keyword">return</span>;</span><br><span class="line">        <span class="keyword">if</span> (ch==<span class="string">'-'</span>)sign=<span class="number">1</span>,ch=nc();</span><br><span class="line">        <span class="keyword">for</span> (;ch&gt;=<span class="string">'0'</span>&amp;&amp;ch&lt;=<span class="string">'9'</span>;ch=nc())x=x*<span class="number">10</span>+ch-<span class="string">'0'</span>;</span><br><span class="line">        <span class="keyword">if</span> (sign)x=-x;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">inline</span> <span class="keyword">void</span> <span class="title">read</span><span class="params">(ll &amp;x)</span></span>&#123;</span><br><span class="line">        <span class="keyword">bool</span> sign=<span class="number">0</span>; <span class="keyword">char</span> ch=nc(); x=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (;blank(ch);ch=nc());</span><br><span class="line">        <span class="keyword">if</span> (IOerror)<span class="keyword">return</span>;</span><br><span class="line">        <span class="keyword">if</span> (ch==<span class="string">'-'</span>)sign=<span class="number">1</span>,ch=nc();</span><br><span class="line">        <span class="keyword">for</span> (;ch&gt;=<span class="string">'0'</span>&amp;&amp;ch&lt;=<span class="string">'9'</span>;ch=nc())x=x*<span class="number">10</span>+ch-<span class="string">'0'</span>;</span><br><span class="line">        <span class="keyword">if</span> (sign)x=-x;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">inline</span> <span class="keyword">void</span> <span class="title">read</span><span class="params">(<span class="keyword">double</span> &amp;x)</span></span>&#123;</span><br><span class="line">        <span class="keyword">bool</span> sign=<span class="number">0</span>; <span class="keyword">char</span> ch=nc(); x=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (;blank(ch);ch=nc());</span><br><span class="line">        <span class="keyword">if</span> (IOerror)<span class="keyword">return</span>;</span><br><span class="line">        <span class="keyword">if</span> (ch==<span class="string">'-'</span>)sign=<span class="number">1</span>,ch=nc();</span><br><span class="line">        <span class="keyword">for</span> (;ch&gt;=<span class="string">'0'</span>&amp;&amp;ch&lt;=<span class="string">'9'</span>;ch=nc())x=x*<span class="number">10</span>+ch-<span class="string">'0'</span>;</span><br><span class="line">        <span class="keyword">if</span> (ch==<span class="string">'.'</span>)&#123;</span><br><span class="line">            <span class="keyword">double</span> tmp=<span class="number">1</span>; ch=nc();</span><br><span class="line">            <span class="keyword">for</span> (;ch&gt;=<span class="string">'0'</span>&amp;&amp;ch&lt;=<span class="string">'9'</span>;ch=nc())tmp/=<span class="number">10.0</span>,x+=tmp*(ch-<span class="string">'0'</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (sign)x=-x;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">inline</span> <span class="keyword">void</span> <span class="title">read</span><span class="params">(<span class="keyword">char</span> *s)</span></span>&#123;</span><br><span class="line">        <span class="keyword">char</span> ch=nc();</span><br><span class="line">        <span class="keyword">for</span> (;blank(ch);ch=nc());</span><br><span class="line">        <span class="keyword">if</span> (IOerror)<span class="keyword">return</span>;</span><br><span class="line">        <span class="keyword">for</span> (;!blank(ch)&amp;&amp;!IOerror;ch=nc())*s++=ch;</span><br><span class="line">        *s=<span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">inline</span> <span class="keyword">void</span> <span class="title">read</span><span class="params">(<span class="keyword">char</span> &amp;c)</span></span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (c=nc();blank(c);c=nc());</span><br><span class="line">        <span class="keyword">if</span> (IOerror)&#123;c=<span class="number">-1</span>;<span class="keyword">return</span>;&#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//fwrite-&gt;write</span></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">Ostream_fwrite</span>&#123;</span></span><br><span class="line">        <span class="keyword">char</span> *buf,*p1,*pend;</span><br><span class="line">        Ostream_fwrite()&#123;buf=<span class="keyword">new</span> <span class="keyword">char</span>[BUF_SIZE];p1=buf;pend=buf+BUF_SIZE;&#125;</span><br><span class="line">        <span class="function"><span class="keyword">void</span> <span class="title">out</span><span class="params">(<span class="keyword">char</span> ch)</span></span>&#123;</span><br><span class="line">            <span class="keyword">if</span> (p1==pend)&#123;</span><br><span class="line">                fwrite(buf,<span class="number">1</span>,BUF_SIZE,<span class="built_in">stdout</span>);p1=buf;</span><br><span class="line">            &#125;</span><br><span class="line">            *p1++=ch;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="function"><span class="keyword">void</span> <span class="title">print</span><span class="params">(<span class="keyword">int</span> x)</span></span>&#123;</span><br><span class="line">            <span class="keyword">static</span> <span class="keyword">char</span> s[<span class="number">15</span>],*s1;s1=s;</span><br><span class="line">            <span class="keyword">if</span> (!x)*s1++=<span class="string">'0'</span>;<span class="keyword">if</span> (x&lt;<span class="number">0</span>)out(<span class="string">'-'</span>),x=-x;</span><br><span class="line">            <span class="keyword">while</span>(x)*s1++=x%<span class="number">10</span>+<span class="string">'0'</span>,x/=<span class="number">10</span>;</span><br><span class="line">            <span class="keyword">while</span>(s1--!=s)out(*s1);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="function"><span class="keyword">void</span> <span class="title">println</span><span class="params">(<span class="keyword">int</span> x)</span></span>&#123;</span><br><span class="line">            <span class="keyword">static</span> <span class="keyword">char</span> s[<span class="number">15</span>],*s1;s1=s;</span><br><span class="line">            <span class="keyword">if</span> (!x)*s1++=<span class="string">'0'</span>;<span class="keyword">if</span> (x&lt;<span class="number">0</span>)out(<span class="string">'-'</span>),x=-x;</span><br><span class="line">            <span class="keyword">while</span>(x)*s1++=x%<span class="number">10</span>+<span class="string">'0'</span>,x/=<span class="number">10</span>;</span><br><span class="line">            <span class="keyword">while</span>(s1--!=s)out(*s1); out(<span class="string">'\n'</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="function"><span class="keyword">void</span> <span class="title">print</span><span class="params">(ll x)</span></span>&#123;</span><br><span class="line">            <span class="keyword">static</span> <span class="keyword">char</span> s[<span class="number">25</span>],*s1;s1=s;</span><br><span class="line">            <span class="keyword">if</span> (!x)*s1++=<span class="string">'0'</span>;<span class="keyword">if</span> (x&lt;<span class="number">0</span>)out(<span class="string">'-'</span>),x=-x;</span><br><span class="line">            <span class="keyword">while</span>(x)*s1++=x%<span class="number">10</span>+<span class="string">'0'</span>,x/=<span class="number">10</span>;</span><br><span class="line">            <span class="keyword">while</span>(s1--!=s)out(*s1);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="function"><span class="keyword">void</span> <span class="title">println</span><span class="params">(ll x)</span></span>&#123;</span><br><span class="line">            <span class="keyword">static</span> <span class="keyword">char</span> s[<span class="number">25</span>],*s1;s1=s;</span><br><span class="line">            <span class="keyword">if</span> (!x)*s1++=<span class="string">'0'</span>;<span class="keyword">if</span> (x&lt;<span class="number">0</span>)out(<span class="string">'-'</span>),x=-x;</span><br><span class="line">            <span class="keyword">while</span>(x)*s1++=x%<span class="number">10</span>+<span class="string">'0'</span>,x/=<span class="number">10</span>;</span><br><span class="line">            <span class="keyword">while</span>(s1--!=s)out(*s1); out(<span class="string">'\n'</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="function"><span class="keyword">void</span> <span class="title">print</span><span class="params">(<span class="keyword">double</span> x,<span class="keyword">int</span> y)</span></span>&#123;</span><br><span class="line">            <span class="keyword">static</span> ll mul[]=&#123;<span class="number">1</span>,<span class="number">10</span>,<span class="number">100</span>,<span class="number">1000</span>,<span class="number">10000</span>,<span class="number">100000</span>,<span class="number">1000000</span>,<span class="number">10000000</span>,<span class="number">100000000</span>,</span><br><span class="line">                <span class="number">1000000000</span>,<span class="number">10000000000L</span>L,<span class="number">100000000000L</span>L,<span class="number">1000000000000L</span>L,<span class="number">10000000000000L</span>L,</span><br><span class="line">                <span class="number">100000000000000L</span>L,<span class="number">1000000000000000L</span>L,<span class="number">10000000000000000L</span>L,<span class="number">100000000000000000L</span>L&#125;;</span><br><span class="line">            <span class="keyword">if</span> (x&lt;<span class="number">-1e-12</span>)out(<span class="string">'-'</span>),x=-x;x*=mul[y];</span><br><span class="line">            ll x1=(ll)<span class="built_in">floor</span>(x); <span class="keyword">if</span> (x-<span class="built_in">floor</span>(x)&gt;=<span class="number">0.5</span>)++x1;</span><br><span class="line">            ll x2=x1/mul[y],x3=x1-x2*mul[y]; print(x2);</span><br><span class="line">            <span class="keyword">if</span> (y&gt;<span class="number">0</span>)&#123;out(<span class="string">'.'</span>); <span class="keyword">for</span> (<span class="keyword">size_t</span> i=<span class="number">1</span>;i&lt;y&amp;&amp;x3*mul[i]&lt;mul[y];out(<span class="string">'0'</span>),++i); print(x3);&#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="function"><span class="keyword">void</span> <span class="title">println</span><span class="params">(<span class="keyword">double</span> x,<span class="keyword">int</span> y)</span></span>&#123;print(x,y);out(<span class="string">'\n'</span>);&#125;</span><br><span class="line">        <span class="function"><span class="keyword">void</span> <span class="title">print</span><span class="params">(<span class="keyword">char</span> *s)</span></span>&#123;<span class="keyword">while</span> (*s)out(*s++);&#125;</span><br><span class="line">        <span class="function"><span class="keyword">void</span> <span class="title">println</span><span class="params">(<span class="keyword">char</span> *s)</span></span>&#123;<span class="keyword">while</span> (*s)out(*s++);out(<span class="string">'\n'</span>);&#125;</span><br><span class="line">        <span class="function"><span class="keyword">void</span> <span class="title">flush</span><span class="params">()</span></span>&#123;<span class="keyword">if</span> (p1!=buf)&#123;fwrite(buf,<span class="number">1</span>,p1-buf,<span class="built_in">stdout</span>);p1=buf;&#125;&#125;</span><br><span class="line">        ~Ostream_fwrite()&#123;flush();&#125;</span><br><span class="line">    &#125;Ostream;</span><br><span class="line">    <span class="function"><span class="keyword">inline</span> <span class="keyword">void</span> <span class="title">print</span><span class="params">(<span class="keyword">int</span> x)</span></span>&#123;Ostream.print(x);&#125;</span><br><span class="line">    <span class="function"><span class="keyword">inline</span> <span class="keyword">void</span> <span class="title">println</span><span class="params">(<span class="keyword">int</span> x)</span></span>&#123;Ostream.println(x);&#125;</span><br><span class="line">    <span class="function"><span class="keyword">inline</span> <span class="keyword">void</span> <span class="title">print</span><span class="params">(<span class="keyword">char</span> x)</span></span>&#123;Ostream.out(x);&#125;</span><br><span class="line">    <span class="function"><span class="keyword">inline</span> <span class="keyword">void</span> <span class="title">println</span><span class="params">(<span class="keyword">char</span> x)</span></span>&#123;Ostream.out(x);Ostream.out(<span class="string">'\n'</span>);&#125;</span><br><span class="line">    <span class="function"><span class="keyword">inline</span> <span class="keyword">void</span> <span class="title">print</span><span class="params">(ll x)</span></span>&#123;Ostream.print(x);&#125;</span><br><span class="line">    <span class="function"><span class="keyword">inline</span> <span class="keyword">void</span> <span class="title">println</span><span class="params">(ll x)</span></span>&#123;Ostream.println(x);&#125;</span><br><span class="line">    <span class="function"><span class="keyword">inline</span> <span class="keyword">void</span> <span class="title">print</span><span class="params">(<span class="keyword">double</span> x,<span class="keyword">int</span> y)</span></span>&#123;Ostream.print(x,y);&#125;<span class="comment">//y为小数点后几位</span></span><br><span class="line">    <span class="function"><span class="keyword">inline</span> <span class="keyword">void</span> <span class="title">println</span><span class="params">(<span class="keyword">double</span> x,<span class="keyword">int</span> y)</span></span>&#123;Ostream.println(x,y);&#125;</span><br><span class="line">    <span class="function"><span class="keyword">inline</span> <span class="keyword">void</span> <span class="title">print</span><span class="params">(<span class="keyword">char</span> *s)</span></span>&#123;Ostream.print(s);&#125;</span><br><span class="line">    <span class="function"><span class="keyword">inline</span> <span class="keyword">void</span> <span class="title">println</span><span class="params">(<span class="keyword">char</span> *s)</span></span>&#123;Ostream.println(s);&#125;</span><br><span class="line">    <span class="function"><span class="keyword">inline</span> <span class="keyword">void</span> <span class="title">println</span><span class="params">()</span></span>&#123;Ostream.out(<span class="string">'\n'</span>);&#125;</span><br><span class="line">    <span class="function"><span class="keyword">inline</span> <span class="keyword">void</span> <span class="title">flush</span><span class="params">()</span></span>&#123;Ostream.flush();&#125;<span class="comment">//清空</span></span><br><span class="line">    <span class="meta">#<span class="meta-keyword">undef</span> ll</span></span><br><span class="line">    <span class="meta">#<span class="meta-keyword">undef</span> OUT_SIZE</span></span><br><span class="line">    <span class="meta">#<span class="meta-keyword">undef</span> BUF_SIZE</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> fastIO;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;&lt;img src=&quot;https://img.vim-cn.com/fe/820adeaed467d5e081d78583bc7970f749b59c.jpg&quot; alt=&quot;&quot;&gt;&lt;/p&gt;&lt;h3 id=&quot;题外话&quot;&gt;&lt;a href=&quot;#题外话&quot; class=&quot;headerlink&quot;
      
    
    </summary>
    
      <category term="C++语法" scheme="https://anoyer.cn/categories/C-%E8%AF%AD%E6%B3%95/"/>
    
    
      <category term="输入外挂" scheme="https://anoyer.cn/tags/%E8%BE%93%E5%85%A5%E5%A4%96%E6%8C%82/"/>
    
  </entry>
  
  <entry>
    <title>C++记录程序运行时间5大方法</title>
    <link href="https://anoyer.cn/article/Run-Time.html"/>
    <id>https://anoyer.cn/article/Run-Time.html</id>
    <published>2019-01-18T09:20:23.000Z</published>
    <updated>2019-01-18T09:46:58.711Z</updated>
    
    <content type="html"><![CDATA[<p><img src="https://img.vim-cn.com/41/2c5f9e78331621ae7159163d7fcbc635a5393b.jpg" alt=""></p><h3 id="1-用clock-函数"><a href="#1-用clock-函数" class="headerlink" title="1.用clock()函数"></a>1.用clock()函数</h3><p>用clock()函数，得到系统启动以后的毫秒级时间，然后除以CLOCKS_PER_SEC，就可以换成“秒”，标准c函数。</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">clock_t</span> start_time=clock();</span><br><span class="line">init();</span><br><span class="line"><span class="keyword">clock_t</span> end_time=clock();</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"The run time is: "</span> &lt;&lt;(<span class="keyword">double</span>)(end_time - start_time) / CLOCKS_PER_SEC &lt;&lt; <span class="string">"s"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br></pre></td></tr></table></figure><h3 id="2-用GetTickCount-函数"><a href="#2-用GetTickCount-函数" class="headerlink" title="2.用GetTickCount()函数"></a>2.用GetTickCount()函数</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">DWORD Start = GetTickCount();</span><br><span class="line"><span class="comment">//这里运行你的程序代码</span></span><br><span class="line">DWORD End = GetTickCount();</span><br><span class="line"><span class="comment">//则(End-Start)就是你的程序运行时间, 以毫秒为单位这个函数只精确到55ms，1个tick就是55ms。</span></span><br></pre></td></tr></table></figure><h3 id="3-timeGetTime-函数"><a href="#3-timeGetTime-函数" class="headerlink" title="3.timeGetTime()函数"></a>3.timeGetTime()函数</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">DWORD Start = timeGetTime();</span><br><span class="line"><span class="comment">//这里运行你的程序代码</span></span><br><span class="line">DWORD End = timeGetTime();</span><br><span class="line"><span class="comment">//则(End-Start)就是你的程序运行时间, 以毫秒为单位</span></span><br><span class="line"><span class="comment">//虽然返回的值单位应该是ms,但精度只有10ms。</span></span><br></pre></td></tr></table></figure><h3 id="4-使用Boost库中的timer"><a href="#4-使用Boost库中的timer" class="headerlink" title="4.使用Boost库中的timer"></a>4.使用Boost库中的timer</h3><p>timer类可以测量时间的流逝，是小型计时器，提供毫秒级别的计时精度。</p><p>头文件：<code>#include&lt;boost/timer.hpp&gt;</code></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">timer t;<span class="comment">//声明计时器对象并开始计时 </span></span><br><span class="line">    <span class="comment">//...测试代码</span></span><br><span class="line"><span class="built_in">cout</span>&lt;&lt;<span class="string">"运行时间："</span>&lt;&lt;t.elapsed() &lt;&lt;<span class="string">"s"</span>&lt;&lt;<span class="built_in">endl</span>;<span class="comment">//输出已流失的时间</span></span><br></pre></td></tr></table></figure><h3 id="5-高精度时控函数QueryPerformanceFrequency-，QueryPerformanceCounter"><a href="#5-高精度时控函数QueryPerformanceFrequency-，QueryPerformanceCounter" class="headerlink" title="5.高精度时控函数QueryPerformanceFrequency()，QueryPerformanceCounter()"></a>5.高精度时控函数QueryPerformanceFrequency()，QueryPerformanceCounter()</h3><p>QueryPerformanceCounter()这个函数返回高精确度性能计数器的值,它可以以微妙为单位计时.但是QueryPerformanceCounter()确切的精确计时的最小单位是与系统有关的,所以,必须要查询系统以得到QueryPerformanceCounter()返回的嘀哒声的频率.QueryPerformanceFrequency()提供了这个频率值,返回每秒嘀哒声的个数.计算确切的时间是从第一次调用QueryPerformanceCounter()开始的假设得到的LARGE_INTEGER为nStartCounter,过一段时间后再次调用该函数结束的,设得到nStopCounter.两者之差除以QueryPerformanceFrequency()的频率就是开始到结束之间的秒数.由于计时函数本身要耗费很少的时间,要减去一个很少的时间开销.但一般都把这个开销忽略。头文件：<code>#include&lt;windows.h&gt;</code></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">double</span> time=<span class="number">0</span>;  </span><br><span class="line"><span class="keyword">double</span> counts=<span class="number">0</span>;  </span><br><span class="line">LARGE_INTEGER nFreq;  </span><br><span class="line">LARGE_INTEGER nBeginTime;  </span><br><span class="line">LARGE_INTEGER nEndTime;  </span><br><span class="line">QueryPerformanceFrequency(&amp;nFreq);  </span><br><span class="line">QueryPerformanceCounter(&amp;nBeginTime);<span class="comment">//开始计时  </span></span><br><span class="line">    <span class="comment">//...测试代码</span></span><br><span class="line">QueryPerformanceCounter(&amp;nEndTime);<span class="comment">//停止计时  </span></span><br><span class="line">time=(<span class="keyword">double</span>)(nEndTime.QuadPart-nBeginTime.QuadPart)/(<span class="keyword">double</span>)nFreq.QuadPart;<span class="comment">//计算程序执行时间单位为s  </span></span><br><span class="line"><span class="built_in">cout</span>&lt;&lt;<span class="string">"运行时间："</span>&lt;&lt;time*<span class="number">1000</span>&lt;&lt;<span class="string">"ms"</span>&lt;&lt;<span class="built_in">endl</span>;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;&lt;img src=&quot;https://img.vim-cn.com/41/2c5f9e78331621ae7159163d7fcbc635a5393b.jpg&quot; alt=&quot;&quot;&gt;&lt;/p&gt;&lt;h3 id=&quot;1-用clock-函数&quot;&gt;&lt;a href=&quot;#1-用clock-函数&quot; cl
      
    
    </summary>
    
      <category term="C++语法" scheme="https://anoyer.cn/categories/C-%E8%AF%AD%E6%B3%95/"/>
    
    
      <category term="语法" scheme="https://anoyer.cn/tags/%E8%AF%AD%E6%B3%95/"/>
    
  </entry>
  
  <entry>
    <title>Henau-2018训练题1</title>
    <link href="https://anoyer.cn/article/henau-test1.html"/>
    <id>https://anoyer.cn/article/henau-test1.html</id>
    <published>2018-12-22T10:48:03.000Z</published>
    <updated>2019-01-18T09:58:29.673Z</updated>
    
    <content type="html"><![CDATA[<p><img src="https://img.vim-cn.com/d2/bcbd158c5cb85bfe69d1680de9d4f2b0dc5d68.jpg" alt=""></p><h2 id="小刘爱复读"><a href="#小刘爱复读" class="headerlink" title="小刘爱复读"></a>小刘爱复读</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn = <span class="number">1e3</span> + <span class="number">10</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> mod = <span class="number">1e9</span> + <span class="number">7</span>;</span><br><span class="line"><span class="comment">//把诗歌存入字符串</span></span><br><span class="line"><span class="keyword">char</span> s[maxn] = <span class="string">"I am the bone of my language repeater plastic is my body and wire is my blood I have created over a thousand copies  Unknown to Death Nor known to Life Have withstood pain to create copies Yet,those hands will never hold anything So as I pray,unlimited repeat works"</span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line"><span class="keyword">int</span> len = <span class="built_in">strlen</span>(s), cnt = <span class="number">0</span>;<span class="comment">//cnt表示字母个数</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; len; i++)&#123;<span class="comment">//遍历一遍字符串</span></span><br><span class="line"><span class="keyword">if</span> ((s[i] &gt;= <span class="string">'a'</span>&amp;&amp;s[i] &lt;= <span class="string">'z'</span>) || (s[i] &gt;= <span class="string">'A'</span>&amp;&amp;s[i] &lt;= <span class="string">'Z'</span>))cnt++;<span class="comment">//如果当前字符是个字母，则cnt++;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"%d\n"</span>, cnt);</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="洋洋爱模仿"><a href="#洋洋爱模仿" class="headerlink" title="洋洋爱模仿"></a>洋洋爱模仿</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn = <span class="number">1e5</span> + <span class="number">7</span>;</span><br><span class="line"><span class="keyword">char</span> s[maxn], t[maxn];</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line"><span class="keyword">int</span> T;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;T);</span><br><span class="line"><span class="keyword">while</span> (T--)&#123;</span><br><span class="line"><span class="keyword">int</span> ans = <span class="number">0</span>;<span class="comment">//ans表示s,t串相同位相同字符个数</span></span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">"%s"</span>, s);</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">"%s"</span>, t);</span><br><span class="line"><span class="keyword">int</span> len = <span class="built_in">strlen</span>(s);<span class="comment">//获取串长度</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; len; i++)<span class="comment">//for遍历字符串</span></span><br><span class="line"><span class="keyword">if</span> (s[i] == t[i])ans++;<span class="comment">//如果发现一个s[i]和t[i]相同,ans++;</span></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"%.2f\n"</span>, (<span class="keyword">double</span>)ans / (<span class="keyword">double</span>)len);<span class="comment">//ans/总字符数=相似度</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="小温爱蔬菜"><a href="#小温爱蔬菜" class="headerlink" title="小温爱蔬菜"></a>小温爱蔬菜</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn = <span class="number">1e5</span> + <span class="number">10</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> mod = <span class="number">1e9</span> + <span class="number">7</span>;</span><br><span class="line"><span class="keyword">int</span> sum[maxn];<span class="comment">//前缀和</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line"><span class="keyword">int</span> t;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;t);</span><br><span class="line"><span class="keyword">while</span> (t--)&#123;</span><br><span class="line"><span class="keyword">int</span> n, a, m;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">"%d%d"</span>, &amp;n, &amp;m);</span><br><span class="line">sum[<span class="number">0</span>] = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++)&#123;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;sum[i]);</span><br><span class="line">sum[i] += sum[i - <span class="number">1</span>];<span class="comment">//获取a数组的前缀和表</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">while</span> (m--)&#123;</span><br><span class="line"><span class="keyword">int</span> l, r;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">"%d%d"</span>, &amp;l, &amp;r);</span><br><span class="line"><span class="comment">//前缀和性质：sum[r]-sum[l-1]=a[l]+....+a[r]</span></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"%d\n"</span>, sum[r] - sum[l - <span class="number">1</span>]);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="洋洋爱密码"><a href="#洋洋爱密码" class="headerlink" title="洋洋爱密码"></a>洋洋爱密码</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn = <span class="number">1e5</span> + <span class="number">10</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> mod = <span class="number">1e9</span> + <span class="number">7</span>;</span><br><span class="line"><span class="keyword">int</span> a[maxn];</span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">cmp</span><span class="params">(<span class="keyword">int</span> a, <span class="keyword">int</span> b)</span></span>&#123;</span><br><span class="line"><span class="keyword">return</span> a &gt; b;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line"><span class="keyword">int</span> t;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;t);</span><br><span class="line"><span class="keyword">while</span> (t--)&#123;</span><br><span class="line"><span class="keyword">int</span> n, cnt = <span class="number">0</span>, ans = <span class="number">0</span>;<span class="comment">//ans用来记录当前所花费金额</span></span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;n);</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++)&#123;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;a[i]);</span><br><span class="line">&#125;</span><br><span class="line">sort(a, a + n, cmp);<span class="comment">//先对物品价格从大到小排序</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++)&#123;</span><br><span class="line">ans += a[i];</span><br><span class="line"><span class="keyword">if</span> (ans &gt;= <span class="number">30</span>)cnt++;<span class="comment">//如果sum&gt;=30，则cnt++,输入密码次数cnt++</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"%d\n"</span>, cnt);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;&lt;img src=&quot;https://img.vim-cn.com/d2/bcbd158c5cb85bfe69d1680de9d4f2b0dc5d68.jpg&quot; alt=&quot;&quot;&gt;&lt;/p&gt;&lt;h2 id=&quot;小刘爱复读&quot;&gt;&lt;a href=&quot;#小刘爱复读&quot; class=&quot;headerl
      
    
    </summary>
    
      <category term="农大训练赛题解" scheme="https://anoyer.cn/categories/%E5%86%9C%E5%A4%A7%E8%AE%AD%E7%BB%83%E8%B5%9B%E9%A2%98%E8%A7%A3/"/>
    
    
      <category term="河南农业大学训练赛题解" scheme="https://anoyer.cn/tags/%E6%B2%B3%E5%8D%97%E5%86%9C%E4%B8%9A%E5%A4%A7%E5%AD%A6%E8%AE%AD%E7%BB%83%E8%B5%9B%E9%A2%98%E8%A7%A3/"/>
    
  </entry>
  
  <entry>
    <title>SPOJ - REPEATS - Repeats（RMQ+后缀数组）</title>
    <link href="https://anoyer.cn/article/SPOJ-REPEATS-Repeats.html"/>
    <id>https://anoyer.cn/article/SPOJ-REPEATS-Repeats.html</id>
    <published>2018-12-07T14:20:38.000Z</published>
    <updated>2018-12-07T15:46:10.084Z</updated>
    
    <content type="html"><![CDATA[<p><img src="https://img.vim-cn.com/66/1a4ed924c89f5d994e28ff22e2fab0e78a7d23.jpg" alt=""></p><h3 id="博主链接"><a href="#博主链接" class="headerlink" title="博主链接"></a><a href="https://me.csdn.net/Anoy_acer" target="_blank" rel="noopener">博主链接</a></h3><h2 id="题目链接"><a href="#题目链接" class="headerlink" title="题目链接"></a><a href="https://www.spoj.com/problems/REPEATS/en/" target="_blank" rel="noopener">题目链接</a></h2><p><img src="https://img.vim-cn.com/82/2317bc82b176b2edbd0f05ea43b09d94fcb978.png" alt=""></p><h3 id="题意："><a href="#题意：" class="headerlink" title="题意："></a>题意：</h3><p>对于给出的字符串(长度&lt;= 50000,只包含字符’a’或’b’)找到最大的k使得存在某个字符串t重复k次是给出的字符串的子串</p><h3 id="题解："><a href="#题解：" class="headerlink" title="题解："></a>题解：</h3><p>如果每一个循环节的长度为len, 那么在原字符串S中, S[i<em>len]与S[(i + 1)</em>len]一定会被包含在答案的子串当中那么枚举可能的答案的循环节的长度, 然后枚举可能的位置, 对于每一组可能被包含的位置S[i<em>len], S[(i + 1)</em>len]求出其对应后缀的最长公共前缀长度L, 则该循环节至少循环了L/len + 1次, 但是当L%len != 0时, 后面多余出来的部分(长度L%len的部分)可能和前面的拼凑成循环节, 于是对于位置i<em>len - (len - L % len)和(i + 1)</em>len - (len - L % len)求其后缀的最长公共前缀长度, 如果大于之前的结果,自然就说明从这个位置开始可以比之前多一个循环节, 于是这样枚举得到最多循环次数</p><h3 id="代码："><a href="#代码：" class="headerlink" title="代码："></a>代码：</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;math.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> REP(i,n) for(i=0;i&lt;(n);++i)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> UPTO(i,l,h) for(i=(l);i&lt;=(h);++i)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> DOWN(i,h,l) for(i=(h);i&gt;=(l);--i)</span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn=<span class="number">1e6</span>+<span class="number">10</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> mod=<span class="number">1e9</span>+<span class="number">7</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T, <span class="keyword">int</span> LEN&gt;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">suffixarray</span>&#123;</span></span><br><span class="line">    <span class="comment">//rank[i] 第i个后缀的排名; SA[i] 排名为i的后缀位置; Height[i] 排名为i的后缀与排名为(i-1)的后缀的LCP</span></span><br><span class="line"><span class="keyword">int</span> str[LEN*<span class="number">3</span>],sa[LEN*<span class="number">3</span>];</span><br><span class="line"><span class="keyword">int</span> rank[LEN],height[LEN];</span><br><span class="line"><span class="keyword">int</span> id[LEN];</span><br><span class="line"><span class="keyword">int</span> best[LEN][<span class="number">20</span>];</span><br><span class="line"><span class="keyword">int</span> len;</span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">equal</span><span class="params">(<span class="keyword">int</span> *str, <span class="keyword">int</span> a, <span class="keyword">int</span> b)</span></span>&#123;</span><br><span class="line"><span class="keyword">return</span> str[a]==str[b]&amp;&amp;str[a+<span class="number">1</span>]==str[b+<span class="number">1</span>]&amp;&amp;str[a+<span class="number">2</span>]==str[b+<span class="number">2</span>];</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">cmp3</span><span class="params">(<span class="keyword">int</span> *str, <span class="keyword">int</span> *nstr, <span class="keyword">int</span> a, <span class="keyword">int</span> b)</span></span>&#123;</span><br><span class="line"><span class="keyword">if</span>(str[a]!=str[b])<span class="keyword">return</span> str[a]&lt;str[b];</span><br><span class="line"><span class="keyword">if</span>(str[a+<span class="number">1</span>]!=str[b+<span class="number">1</span>])<span class="keyword">return</span> str[a+<span class="number">1</span>]&lt;str[b+<span class="number">1</span>];</span><br><span class="line"><span class="keyword">return</span> nstr[a+b%<span class="number">3</span>]&lt;nstr[b+b%<span class="number">3</span>];</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">radixsort</span><span class="params">(<span class="keyword">int</span> *str, <span class="keyword">int</span> *sa, <span class="keyword">int</span> *res, <span class="keyword">int</span> n, <span class="keyword">int</span> m)</span></span>&#123;</span><br><span class="line"><span class="keyword">int</span> i;</span><br><span class="line">REP(i,m)id[i]=<span class="number">0</span>;</span><br><span class="line">REP(i,n)++id[str[sa[i]]];</span><br><span class="line">REP(i,m)id[i+<span class="number">1</span>]+=id[i];</span><br><span class="line">DOWN(i,n<span class="number">-1</span>,<span class="number">0</span>)res[--id[str[sa[i]]]]=sa[i];</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">dc3</span><span class="params">(<span class="keyword">int</span> *str, <span class="keyword">int</span> *sa, <span class="keyword">int</span> n, <span class="keyword">int</span> m)</span></span>&#123;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> F(x) ((x)/3+((x)%3==1?0:one))</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> G(x) ((x)&lt;one?(x)*3+1:((x)-one)*3+2)</span></span><br><span class="line"><span class="keyword">int</span> *nstr=str+n, *nsa=sa+n, *tmpa=rank, *tmpb=height;</span><br><span class="line"><span class="keyword">int</span> i,j,k,len=<span class="number">0</span>,num=<span class="number">0</span>,zero=<span class="number">0</span>,one=(n+<span class="number">1</span>)/<span class="number">3</span>;</span><br><span class="line">REP(i,n)<span class="keyword">if</span>(i%<span class="number">3</span>)tmpa[len++]=i;</span><br><span class="line">str[n]=str[n+<span class="number">1</span>]=<span class="number">0</span>;</span><br><span class="line">radixsort(str+<span class="number">2</span>, tmpa, tmpb, len, m);</span><br><span class="line">radixsort(str+<span class="number">1</span>, tmpb, tmpa, len, m);</span><br><span class="line">radixsort(str+<span class="number">0</span>, tmpa, tmpb, len, m);</span><br><span class="line">nstr[F(tmpb[<span class="number">0</span>])]=num++;</span><br><span class="line">UPTO(i,<span class="number">1</span>,len<span class="number">-1</span>)</span><br><span class="line">nstr[F(tmpb[i])]=equal(str,tmpb[i<span class="number">-1</span>],tmpb[i])?num<span class="number">-1</span>:num++;</span><br><span class="line"><span class="keyword">if</span>(num&lt;len)dc3(nstr,nsa,len,num);</span><br><span class="line"><span class="keyword">else</span> REP(i,len)nsa[nstr[i]]=i;</span><br><span class="line"><span class="keyword">if</span>(n%<span class="number">3</span>==<span class="number">1</span>)tmpa[zero++]=n<span class="number">-1</span>;</span><br><span class="line">REP(i,len)<span class="keyword">if</span>(nsa[i]&lt;one)tmpa[zero++]=nsa[i]*<span class="number">3</span>;</span><br><span class="line">radixsort(str, tmpa, tmpb, zero, m);</span><br><span class="line">REP(i,len)tmpa[nsa[i]=G(nsa[i])]=i;</span><br><span class="line">i=j=<span class="number">0</span>;</span><br><span class="line">REP(k,n)</span><br><span class="line"><span class="keyword">if</span>(j&gt;=len||(i&lt;zero&amp;&amp;cmp3(str,tmpa,tmpb[i],nsa[j])))sa[k]=tmpb[i++];</span><br><span class="line"><span class="keyword">else</span> sa[k]=nsa[j++];</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">initSA</span><span class="params">(T *s, <span class="keyword">int</span> n,<span class="keyword">int</span> m)</span></span>&#123;</span><br><span class="line"><span class="keyword">int</span> i,j,k=<span class="number">0</span>;</span><br><span class="line">str[len=n]=<span class="number">0</span>;<span class="comment">//末尾增加一个0，这样就省去一些特殊情况的讨论，也就是最后一个mod 3刚好等于0</span></span><br><span class="line">REP(i,n)str[i]=s[i];</span><br><span class="line">dc3(str,sa,n+<span class="number">1</span>,m);      <span class="comment">//可以切换成dc3</span></span><br><span class="line">REP(i,n)sa[i]=sa[i+<span class="number">1</span>];<span class="comment">//第0小的默认为最后一个字符0，所以答案向前移动一位，da算法不用</span></span><br><span class="line">        <span class="comment">//da(str,sa,n,m);</span></span><br><span class="line">REP(i,n)rank[sa[i]]=i;</span><br><span class="line">REP(i,n)<span class="comment">//计算height数组</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span>(k)--k;</span><br><span class="line"><span class="keyword">if</span>(rank[i])<span class="keyword">for</span>(j=sa[rank[i]<span class="number">-1</span>];str[i+k]==str[j+k];++k);</span><br><span class="line"><span class="keyword">else</span> k=<span class="number">0</span>;</span><br><span class="line">height[rank[i]]=k;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">initRMQ</span><span class="params">()</span></span>&#123;</span><br><span class="line"><span class="keyword">int</span> i,j;</span><br><span class="line"><span class="keyword">int</span> m=(<span class="keyword">int</span>)(<span class="built_in">log</span>(len*<span class="number">1.0</span>)/<span class="built_in">log</span>(<span class="number">2.0</span>));</span><br><span class="line">REP(i,len)best[i][<span class="number">0</span>]=height[i];</span><br><span class="line"><span class="keyword">for</span>(j=<span class="number">1</span>;j&lt;=m;++j)</span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">0</span>;i+(<span class="number">1</span>&lt;&lt;j)<span class="number">-1</span>&lt;len;++i)</span><br><span class="line">best[i][j]=min(best[i][j<span class="number">-1</span>],best[i+(<span class="number">1</span>&lt;&lt;(j<span class="number">-1</span>))][j<span class="number">-1</span>]);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">RMQ</span><span class="params">(<span class="keyword">int</span> l, <span class="keyword">int</span> r)</span></span>&#123;</span><br><span class="line"><span class="keyword">int</span> k=<span class="keyword">int</span>(<span class="built_in">log</span>(r-l+<span class="number">1.0</span>)/<span class="built_in">log</span>(<span class="number">2.0</span>));</span><br><span class="line"><span class="keyword">return</span> min(best[l][k],best[r-(<span class="number">1</span>&lt;&lt;k)+<span class="number">1</span>][k]);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">LCPSA</span><span class="params">(<span class="keyword">int</span> a, <span class="keyword">int</span> b)</span></span>&#123;<span class="comment">//查询区间RMQ(i,j)</span></span><br><span class="line">a=rank[a],b=rank[b];</span><br><span class="line"><span class="keyword">if</span>(a&gt;b)swap(a,b);</span><br><span class="line"><span class="keyword">return</span> RMQ(a+<span class="number">1</span>,b);</span><br><span class="line">&#125;</span><br><span class="line">&#125;;</span><br><span class="line">suffixarray&lt;<span class="keyword">int</span>,maxn&gt; msa;</span><br><span class="line"><span class="built_in">map</span>&lt;<span class="keyword">int</span> ,<span class="keyword">int</span> &gt; mymap;   <span class="comment">//计算m,m表示不同字符个数，如果是字母直接用256</span></span><br><span class="line"><span class="keyword">char</span> s[maxn];</span><br><span class="line"><span class="keyword">int</span> ss[maxn];</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> t,Max=<span class="number">0</span>,ans,k;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;t);</span><br><span class="line">    <span class="keyword">while</span>(t--)&#123;</span><br><span class="line">        <span class="keyword">int</span> len;</span><br><span class="line">        Max=<span class="number">1</span>;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;len);</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;len;i++)&#123;</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">"%s"</span>,s);</span><br><span class="line">            ss[i]=s[<span class="number">0</span>]-<span class="string">'a'</span>+<span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        msa.initSA(ss,len,<span class="number">4</span>);</span><br><span class="line">        msa.initRMQ();</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=len;i++)&#123;  <span class="comment">//枚举长度</span></span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>;j+i&lt;len;j+=i)&#123;  <span class="comment">//+i极大的降低了复杂度</span></span><br><span class="line">                <span class="comment">//但也产生了需要向前比较的问题</span></span><br><span class="line">                ans=msa.LCPSA(j,j+i); <span class="comment">//公共后缀的长度</span></span><br><span class="line">                k=j-(i-ans%i); <span class="comment">//前推到k位置</span></span><br><span class="line">                ans=ans/i+<span class="number">1</span>;  <span class="comment">//出现次数</span></span><br><span class="line">                <span class="keyword">if</span>(k&gt;=<span class="number">0</span>&amp;&amp;msa.LCPSA(k,k+i)&gt;=i)ans++;</span><br><span class="line">                <span class="comment">//printf("L=%d,R=%d\n",i,ans);</span></span><br><span class="line">                Max=max(Max,ans);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%d\n"</span>,Max);</span><br><span class="line">    &#125;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;&lt;img src=&quot;https://img.vim-cn.com/66/1a4ed924c89f5d994e28ff22e2fab0e78a7d23.jpg&quot; alt=&quot;&quot;&gt;&lt;/p&gt;&lt;h3 id=&quot;博主链接&quot;&gt;&lt;a href=&quot;#博主链接&quot; class=&quot;headerlin
      
    
    </summary>
    
      <category term="题解" scheme="https://anoyer.cn/categories/%E9%A2%98%E8%A7%A3/"/>
    
    
      <category term="字符串题解" scheme="https://anoyer.cn/tags/%E5%AD%97%E7%AC%A6%E4%B8%B2%E9%A2%98%E8%A7%A3/"/>
    
      <category term="后缀数组" scheme="https://anoyer.cn/tags/%E5%90%8E%E7%BC%80%E6%95%B0%E7%BB%84/"/>
    
      <category term="SPOJ" scheme="https://anoyer.cn/tags/SPOJ/"/>
    
  </entry>
  
  <entry>
    <title>后缀自动机DC3模板</title>
    <link href="https://anoyer.cn/article/Suffix-Array-DC3.html"/>
    <id>https://anoyer.cn/article/Suffix-Array-DC3.html</id>
    <published>2018-12-06T15:11:27.000Z</published>
    <updated>2019-01-18T09:55:01.329Z</updated>
    
    <content type="html"><![CDATA[<p><img src="https://img.vim-cn.com/db/a85d60530eee687e2f9342e4d46a01c790ddbf.jpg" alt=""></p><p><strong>后缀数组一些性质</strong></p><blockquote><ul><li><p>suffix（j）和suffix（k）的最长公共前缀为height【rank【j】+1】到height【rank【k】】中的最小值；</p></li><li><p>待更新</p></li></ul></blockquote><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">POJ-2406</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> REP(i,n) for(i=0;i&lt;(n);++i)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> UPTO(i,l,h) for(i=(l);i&lt;=(h);++i)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> DOWN(i,h,l) for(i=(h);i&gt;=(l);--i)</span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn=<span class="number">1e6</span>+<span class="number">10</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> mod=<span class="number">1e9</span>+<span class="number">7</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T, <span class="keyword">int</span> LEN&gt;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">suffixarray</span>&#123;</span></span><br><span class="line">    <span class="comment">//rank[i] 第i个后缀的排名; SA[i] 排名为i的后缀位置; Height[i] 排名为i的后缀与排名为(i-1)的后缀的LCP</span></span><br><span class="line"><span class="keyword">int</span> str[LEN*<span class="number">3</span>],sa[LEN*<span class="number">3</span>];</span><br><span class="line"><span class="keyword">int</span> rank[LEN],height[LEN];</span><br><span class="line"><span class="keyword">int</span> id[LEN];</span><br><span class="line"><span class="keyword">int</span> best[LEN][<span class="number">20</span>];</span><br><span class="line"><span class="keyword">int</span> len;</span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">equal</span><span class="params">(<span class="keyword">int</span> *str, <span class="keyword">int</span> a, <span class="keyword">int</span> b)</span></span>&#123;</span><br><span class="line"><span class="keyword">return</span> str[a]==str[b]&amp;&amp;str[a+<span class="number">1</span>]==str[b+<span class="number">1</span>]&amp;&amp;str[a+<span class="number">2</span>]==str[b+<span class="number">2</span>];</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">cmp3</span><span class="params">(<span class="keyword">int</span> *str, <span class="keyword">int</span> *nstr, <span class="keyword">int</span> a, <span class="keyword">int</span> b)</span></span>&#123;</span><br><span class="line"><span class="keyword">if</span>(str[a]!=str[b])<span class="keyword">return</span> str[a]&lt;str[b];</span><br><span class="line"><span class="keyword">if</span>(str[a+<span class="number">1</span>]!=str[b+<span class="number">1</span>])<span class="keyword">return</span> str[a+<span class="number">1</span>]&lt;str[b+<span class="number">1</span>];</span><br><span class="line"><span class="keyword">return</span> nstr[a+b%<span class="number">3</span>]&lt;nstr[b+b%<span class="number">3</span>];</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">radixsort</span><span class="params">(<span class="keyword">int</span> *str, <span class="keyword">int</span> *sa, <span class="keyword">int</span> *res, <span class="keyword">int</span> n, <span class="keyword">int</span> m)</span></span>&#123;</span><br><span class="line"><span class="keyword">int</span> i;</span><br><span class="line">REP(i,m)id[i]=<span class="number">0</span>;</span><br><span class="line">REP(i,n)++id[str[sa[i]]];</span><br><span class="line">REP(i,m)id[i+<span class="number">1</span>]+=id[i];</span><br><span class="line">DOWN(i,n<span class="number">-1</span>,<span class="number">0</span>)res[--id[str[sa[i]]]]=sa[i];</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">dc3</span><span class="params">(<span class="keyword">int</span> *str, <span class="keyword">int</span> *sa, <span class="keyword">int</span> n, <span class="keyword">int</span> m)</span></span>&#123;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> F(x) ((x)/3+((x)%3==1?0:one))</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> G(x) ((x)&lt;one?(x)*3+1:((x)-one)*3+2)</span></span><br><span class="line"><span class="keyword">int</span> *nstr=str+n, *nsa=sa+n, *tmpa=rank, *tmpb=height;</span><br><span class="line"><span class="keyword">int</span> i,j,k,len=<span class="number">0</span>,num=<span class="number">0</span>,zero=<span class="number">0</span>,one=(n+<span class="number">1</span>)/<span class="number">3</span>;</span><br><span class="line">REP(i,n)<span class="keyword">if</span>(i%<span class="number">3</span>)tmpa[len++]=i;</span><br><span class="line">str[n]=str[n+<span class="number">1</span>]=<span class="number">0</span>;</span><br><span class="line">radixsort(str+<span class="number">2</span>, tmpa, tmpb, len, m);</span><br><span class="line">radixsort(str+<span class="number">1</span>, tmpb, tmpa, len, m);</span><br><span class="line">radixsort(str+<span class="number">0</span>, tmpa, tmpb, len, m);</span><br><span class="line">nstr[F(tmpb[<span class="number">0</span>])]=num++;</span><br><span class="line">UPTO(i,<span class="number">1</span>,len<span class="number">-1</span>)</span><br><span class="line">nstr[F(tmpb[i])]=equal(str,tmpb[i<span class="number">-1</span>],tmpb[i])?num<span class="number">-1</span>:num++;</span><br><span class="line"><span class="keyword">if</span>(num&lt;len)dc3(nstr,nsa,len,num);</span><br><span class="line"><span class="keyword">else</span> REP(i,len)nsa[nstr[i]]=i;</span><br><span class="line"><span class="keyword">if</span>(n%<span class="number">3</span>==<span class="number">1</span>)tmpa[zero++]=n<span class="number">-1</span>;</span><br><span class="line">REP(i,len)<span class="keyword">if</span>(nsa[i]&lt;one)tmpa[zero++]=nsa[i]*<span class="number">3</span>;</span><br><span class="line">radixsort(str, tmpa, tmpb, zero, m);</span><br><span class="line">REP(i,len)tmpa[nsa[i]=G(nsa[i])]=i;</span><br><span class="line">i=j=<span class="number">0</span>;</span><br><span class="line">REP(k,n)</span><br><span class="line"><span class="keyword">if</span>(j&gt;=len||(i&lt;zero&amp;&amp;cmp3(str,tmpa,tmpb[i],nsa[j])))sa[k]=tmpb[i++];</span><br><span class="line"><span class="keyword">else</span> sa[k]=nsa[j++];</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">initSA</span><span class="params">(T *s, <span class="keyword">int</span> n,<span class="keyword">int</span> m)</span></span>&#123;</span><br><span class="line"><span class="keyword">int</span> i,j,k=<span class="number">0</span>;</span><br><span class="line">str[len=n]=<span class="number">0</span>;<span class="comment">//末尾增加一个0，这样就省去一些特殊情况的讨论，也就是最后一个mod 3刚好等于0</span></span><br><span class="line">REP(i,n)str[i]=s[i];</span><br><span class="line">dc3(str,sa,n+<span class="number">1</span>,m);      <span class="comment">//可以切换成dc3</span></span><br><span class="line">REP(i,n)sa[i]=sa[i+<span class="number">1</span>];<span class="comment">//第0小的默认为最后一个字符0，所以答案向前移动一位，da算法不用</span></span><br><span class="line">        <span class="comment">//da(str,sa,n,m);</span></span><br><span class="line">REP(i,n)rank[sa[i]]=i;</span><br><span class="line">REP(i,n)<span class="comment">//计算height数组</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span>(k)--k;</span><br><span class="line"><span class="keyword">if</span>(rank[i])<span class="keyword">for</span>(j=sa[rank[i]<span class="number">-1</span>];str[i+k]==str[j+k];++k);</span><br><span class="line"><span class="keyword">else</span> k=<span class="number">0</span>;</span><br><span class="line">height[rank[i]]=k;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">initRMQ</span><span class="params">()</span></span>&#123;</span><br><span class="line"><span class="keyword">int</span> i,j;</span><br><span class="line"><span class="keyword">int</span> m=(<span class="keyword">int</span>)(<span class="built_in">log</span>(len*<span class="number">1.0</span>)/<span class="built_in">log</span>(<span class="number">2.0</span>));</span><br><span class="line">REP(i,len)best[i][<span class="number">0</span>]=height[i];</span><br><span class="line"><span class="keyword">for</span>(j=<span class="number">1</span>;j&lt;=m;++j)</span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">0</span>;i+(<span class="number">1</span>&lt;&lt;j)<span class="number">-1</span>&lt;len;++i)</span><br><span class="line">best[i][j]=min(best[i][j<span class="number">-1</span>],best[i+(<span class="number">1</span>&lt;&lt;(j<span class="number">-1</span>))][j<span class="number">-1</span>]);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">RMQ</span><span class="params">(<span class="keyword">int</span> l, <span class="keyword">int</span> r)</span></span>&#123;</span><br><span class="line"><span class="keyword">int</span> k=<span class="keyword">int</span>(<span class="built_in">log</span>(r-l+<span class="number">1.0</span>)/<span class="built_in">log</span>(<span class="number">2.0</span>));</span><br><span class="line"><span class="keyword">return</span> min(best[l][k],best[r-(<span class="number">1</span>&lt;&lt;k)+<span class="number">1</span>][k]);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">LCPSA</span><span class="params">(<span class="keyword">int</span> a, <span class="keyword">int</span> b)</span></span>&#123;<span class="comment">//查询区间RMQ(i,j)</span></span><br><span class="line">a=rank[a],b=rank[b];</span><br><span class="line"><span class="keyword">if</span>(a&gt;b)swap(a,b);</span><br><span class="line"><span class="keyword">return</span> RMQ(a+<span class="number">1</span>,b);</span><br><span class="line">&#125;</span><br><span class="line">&#125;;</span><br><span class="line">suffixarray&lt;<span class="keyword">char</span>,maxn&gt; msa;</span><br><span class="line"><span class="built_in">map</span>&lt;<span class="keyword">int</span> ,<span class="keyword">int</span> &gt; mymap;   <span class="comment">//计算m,m表示不同字符个数，如果是字母直接用256</span></span><br><span class="line"><span class="keyword">char</span> s[maxn];</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">while</span>(<span class="built_in">scanf</span>(<span class="string">"%s"</span>,s))&#123;</span><br><span class="line">        <span class="keyword">if</span>(s[<span class="number">0</span>]==<span class="string">'.'</span>)<span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">int</span> len= <span class="built_in">strlen</span>(s);</span><br><span class="line">        msa.initSA(s,len,<span class="number">256</span>);</span><br><span class="line">         <span class="keyword">int</span> flag = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= len; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (len % i == <span class="number">0</span> &amp;&amp; msa.rank[<span class="number">0</span>] == msa.rank[i] + <span class="number">1</span> &amp;&amp; msa.height[msa.rank[<span class="number">0</span>]] == len - i) &#123;</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">"%d\n"</span>, len / i);</span><br><span class="line">                flag = <span class="number">1</span>;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (!flag)<span class="built_in">printf</span>(<span class="string">"1\n"</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>一些模板利用</strong></p><blockquote><p>求重复次数最多的连续重复子串</p><p>例题：<a href="https://vjudge.net/problem/19292/origin" target="_blank" rel="noopener">SPOJ - REPEATS-Repeats</a></p></blockquote><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">msa.initRMQ();</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=len;i++)&#123;  <span class="comment">//枚举长度</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>;j+i&lt;len;j+=i)&#123;  <span class="comment">//+i极大的降低了复杂度</span></span><br><span class="line">        <span class="comment">//但也产生了需要向前比较的问题</span></span><br><span class="line">        ans=msa.LCPSA(j,j+i); <span class="comment">//公共后缀的长度</span></span><br><span class="line">        k=j-(i-ans%i); <span class="comment">//前推到k位置</span></span><br><span class="line">        ans=ans/i+<span class="number">1</span>;  <span class="comment">//出现次数</span></span><br><span class="line">        <span class="keyword">if</span>(k&gt;=<span class="number">0</span>&amp;&amp;msa.LCPSA(k,k+i)&gt;=i)ans++;</span><br><span class="line">        <span class="comment">//printf("L=%d,R=%d\n",i,ans);</span></span><br><span class="line">        Max=max(Max,ans);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"%d\n"</span>,Max);</span><br></pre></td></tr></table></figure><blockquote><p>求最小循环节</p><p>例题：<a href="https://vjudge.net/problem/POJ-2406" target="_blank" rel="noopener">POJ-2406 - Power Strings</a></p></blockquote><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> flag = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= len; i++) &#123;</span><br><span class="line"><span class="keyword">if</span> (len % i == <span class="number">0</span> &amp;&amp; msa.rank[<span class="number">0</span>] == msa.rank[i] + <span class="number">1</span> &amp;&amp; msa.height[msa.rank[<span class="number">0</span>]] == len - i) &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%d\n"</span>, len / i);</span><br><span class="line">        flag = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> (!flag)<span class="built_in">printf</span>(<span class="string">"1\n"</span>);</span><br></pre></td></tr></table></figure><blockquote><p>求两串中长度大于k的公共子串有多少个。</p><p>例题：<a href="https://vjudge.net/problem/12599/origin" target="_blank" rel="noopener">POJ - 3415 - Common Substrings</a></p></blockquote><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">ll <span class="title">solve</span><span class="params">(<span class="keyword">int</span> k)</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> top=<span class="number">0</span>;</span><br><span class="line">    ll ans=<span class="number">0</span>,tot=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;n;i++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(msa.height[i]&lt;k)tot=<span class="number">0</span>,top=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="keyword">int</span> cnt=<span class="number">0</span>;</span><br><span class="line">            <span class="keyword">if</span>(msa.sa[i<span class="number">-1</span>]&lt;lena)&#123;     <span class="comment">//说明不在同一串中</span></span><br><span class="line">                cnt++;</span><br><span class="line">                tot+=msa.height[i]-k+<span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">while</span>(top&amp;&amp;msa.height[i]&lt;=sta[top<span class="number">-1</span>][<span class="number">0</span>])&#123;</span><br><span class="line">                top--;</span><br><span class="line">                tot+=(msa.height[i]-sta[top][<span class="number">0</span>])*sta[top][<span class="number">1</span>];</span><br><span class="line">                cnt+=sta[top][<span class="number">1</span>];</span><br><span class="line">            &#125;</span><br><span class="line">            sta[top][<span class="number">0</span>]=msa.height[i],sta[top++][<span class="number">1</span>]=cnt;</span><br><span class="line">            <span class="keyword">if</span>(msa.sa[i]&gt;lena)ans+=tot;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    tot=top=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;n;i++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(msa.height[i]&lt;k)tot=<span class="number">0</span>,top=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="keyword">int</span> cnt=<span class="number">0</span>;</span><br><span class="line">            <span class="keyword">if</span>(msa.sa[i<span class="number">-1</span>]&gt;lena)&#123;     <span class="comment">//说明不在同一串中</span></span><br><span class="line">                cnt++;</span><br><span class="line">                tot+=msa.height[i]-k+<span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">while</span>(top&amp;&amp;msa.height[i]&lt;=sta[top<span class="number">-1</span>][<span class="number">0</span>])&#123;</span><br><span class="line">                top--;</span><br><span class="line">                tot+=(msa.height[i]-sta[top][<span class="number">0</span>])*sta[top][<span class="number">1</span>];</span><br><span class="line">                cnt+=sta[top][<span class="number">1</span>];</span><br><span class="line">            &#125;</span><br><span class="line">            sta[top][<span class="number">0</span>]=msa.height[i],sta[top++][<span class="number">1</span>]=cnt;</span><br><span class="line">            <span class="keyword">if</span>(msa.sa[i]&lt;lena)ans+=tot;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;&lt;img src=&quot;https://img.vim-cn.com/db/a85d60530eee687e2f9342e4d46a01c790ddbf.jpg&quot; alt=&quot;&quot;&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;后缀数组一些性质&lt;/strong&gt;&lt;/p&gt;&lt;blockquote&gt;&lt;u
      
    
    </summary>
    
      <category term="字符串模板" scheme="https://anoyer.cn/categories/%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%A8%A1%E6%9D%BF/"/>
    
    
      <category term="ACM模板" scheme="https://anoyer.cn/tags/ACM%E6%A8%A1%E6%9D%BF/"/>
    
  </entry>
  
  <entry>
    <title>HDU-3336-Count the string（KMP-Next数组性质）</title>
    <link href="https://anoyer.cn/article/HDU-3336-Count-the-string%EF%BC%88KMP-Next%E6%95%B0%E7%BB%84%E6%80%A7%E8%B4%A8%EF%BC%89.html"/>
    <id>https://anoyer.cn/article/HDU-3336-Count-the-string（KMP-Next数组性质）.html</id>
    <published>2018-12-05T12:56:24.000Z</published>
    <updated>2018-12-05T12:57:40.751Z</updated>
    
    <content type="html"><![CDATA[<p><img src="https://img.vim-cn.com/a4/1eaf18cc839fa217a77b00edec97e0b824b6dd.jpg" alt=""></p><h3 id="博主链接"><a href="#博主链接" class="headerlink" title="博主链接"></a><a href="https://me.csdn.net/Anoy_acer" target="_blank" rel="noopener">博主链接</a></h3><h2 id="题目链接"><a href="#题目链接" class="headerlink" title="题目链接"></a><a href="http://acm.hdu.edu.cn/showproblem.php?pid=3336" target="_blank" rel="noopener">题目链接</a></h2><p><img src="https://img.vim-cn.com/fb/fdacc6c783890b2f4ad1eafef72092b30e5d6b.png" alt=""></p><h3 id="题意："><a href="#题意：" class="headerlink" title="题意："></a>题意：</h3><p>求一个串中所有前缀子串出现次数之和</p><h3 id="题解："><a href="#题解：" class="headerlink" title="题解："></a>题解：</h3><p>对于每个串他前缀串出现次数和一定大于或等于n,因为有n个前缀；所以此时只需要去计算一下每一个前缀在后面出现了几次，也就是next数组的值。结合next数组的性质可以很容易得知，next数组中存在一个非0位，就出现了一种前缀，ans就++。所以只需对字符串求一遍next数组，统计都是个非零元素就可以了。</p><h3 id="代码："><a href="#代码：" class="headerlink" title="代码："></a>代码：</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> met(a) memset(a,0,sizeof(a))</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> fup(i,a,n,b) for(int i=a;i&lt;n;i+=b)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> fow(j,a,n,b) for(int j=a;j&gt;0;j-=b)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> MOD(x) (x)%mod</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn = <span class="number">2</span>*<span class="number">1e6</span> + <span class="number">10</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> mod = <span class="number">1e9</span> + <span class="number">7</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">char</span> s[maxn];</span><br><span class="line"><span class="keyword">int</span> nex[maxn];</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Get_nex</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="keyword">int</span> j = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; s[i]; i++) &#123;</span><br><span class="line"><span class="keyword">while</span> (s[i] != s[j + <span class="number">1</span>] &amp;&amp; j != <span class="number">0</span>)j = nex[j];</span><br><span class="line"><span class="keyword">if</span> (s[i] == s[j + <span class="number">1</span>] &amp;&amp; i != <span class="number">1</span>)j++;</span><br><span class="line">nex[i] = j;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="keyword">int</span> t,n;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;t);</span><br><span class="line"><span class="keyword">while</span> (t--) &#123;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;n);</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">"%s"</span>, s+<span class="number">1</span>);</span><br><span class="line"><span class="keyword">int</span> ans = <span class="number">0</span>;</span><br><span class="line">Get_nex();</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;=n; i++) &#123;</span><br><span class="line"><span class="keyword">if</span> (nex[i] != <span class="number">0</span>)ans++;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"%d\n"</span>, (n + ans) % <span class="number">10007</span>);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;&lt;img src=&quot;https://img.vim-cn.com/a4/1eaf18cc839fa217a77b00edec97e0b824b6dd.jpg&quot; alt=&quot;&quot;&gt;&lt;/p&gt;&lt;h3 id=&quot;博主链接&quot;&gt;&lt;a href=&quot;#博主链接&quot; class=&quot;headerlin
      
    
    </summary>
    
      <category term="题解" scheme="https://anoyer.cn/categories/%E9%A2%98%E8%A7%A3/"/>
    
    
      <category term="HDU" scheme="https://anoyer.cn/tags/HDU/"/>
    
      <category term="KMP" scheme="https://anoyer.cn/tags/KMP/"/>
    
      <category term="字符串题解" scheme="https://anoyer.cn/tags/%E5%AD%97%E7%AC%A6%E4%B8%B2%E9%A2%98%E8%A7%A3/"/>
    
  </entry>
  
  <entry>
    <title>POJ-2406-Power Strings(循环节)</title>
    <link href="https://anoyer.cn/article/POJ-2406-Power-Strings.html"/>
    <id>https://anoyer.cn/article/POJ-2406-Power-Strings.html</id>
    <published>2018-12-05T12:54:16.000Z</published>
    <updated>2018-12-05T12:55:46.719Z</updated>
    
    <content type="html"><![CDATA[<p><img src="https://img.vim-cn.com/db/6c0652d8338fa6b5b0df963bfe761bb93360d2.jpg" alt=""></p><h3 id="博主链接"><a href="#博主链接" class="headerlink" title="博主链接"></a><a href="https://me.csdn.net/Anoy_acer" target="_blank" rel="noopener">博主链接</a></h3><h2 id="题目链接"><a href="#题目链接" class="headerlink" title="题目链接"></a><a href="http://poj.org/problem?id=2046" target="_blank" rel="noopener">题目链接</a></h2><p><img src="https://img.vim-cn.com/fa/99917b832740706fd924e09a7586daaad5d82b.png" alt=""></p><h3 id="题意："><a href="#题意：" class="headerlink" title="题意："></a>题意：</h3><p>给我们一个字符串，我们要求出它最多由几个相同的连续子串连接而成。也就是求最小循环节</p><h3 id="题解："><a href="#题解：" class="headerlink" title="题解："></a>题解：</h3><p>先注意到如果他是循环子串那么n-next[n]一定是最小循环节。于是可以先求出nxt然后暴力匹配一遍看看。但是事实上只要满足n%(n-next[n])==0就可以保证答案正确了。</p><h3 id="代码："><a href="#代码：" class="headerlink" title="代码："></a>代码：</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn=<span class="number">1e6</span>+<span class="number">10</span>;</span><br><span class="line"><span class="keyword">char</span> s[maxn];</span><br><span class="line"><span class="keyword">int</span> Next[maxn];</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Get_Nex</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> j=<span class="number">-1</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;s[i];i++)&#123;</span><br><span class="line">        <span class="keyword">while</span>(s[i]!=s[j+<span class="number">1</span>]&amp;&amp;j!=<span class="number">-1</span>)j=Next[j];</span><br><span class="line">        <span class="keyword">if</span>(s[i]==s[j+<span class="number">1</span>]&amp;i!=<span class="number">0</span>)j++;</span><br><span class="line">        Next[i]=j;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">while</span>(<span class="built_in">scanf</span>(<span class="string">"%s"</span>,s))&#123;</span><br><span class="line">        <span class="keyword">if</span>(s[<span class="number">0</span>]==<span class="string">'.'</span>)<span class="keyword">break</span>;</span><br><span class="line">        Get_Nex();</span><br><span class="line">        <span class="keyword">int</span> ans=<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">int</span> len=<span class="built_in">strlen</span>(s);</span><br><span class="line">        <span class="keyword">int</span> L=Next[len<span class="number">-1</span>];</span><br><span class="line">        <span class="keyword">if</span>(len%(len-L<span class="number">-1</span>)==<span class="number">0</span>)ans=len/(len-L<span class="number">-1</span>);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%d\n"</span>,ans);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;&lt;img src=&quot;https://img.vim-cn.com/db/6c0652d8338fa6b5b0df963bfe761bb93360d2.jpg&quot; alt=&quot;&quot;&gt;&lt;/p&gt;&lt;h3 id=&quot;博主链接&quot;&gt;&lt;a href=&quot;#博主链接&quot; class=&quot;headerlin
      
    
    </summary>
    
      <category term="题解" scheme="https://anoyer.cn/categories/%E9%A2%98%E8%A7%A3/"/>
    
    
      <category term="KMP" scheme="https://anoyer.cn/tags/KMP/"/>
    
      <category term="字符串题解" scheme="https://anoyer.cn/tags/%E5%AD%97%E7%AC%A6%E4%B8%B2%E9%A2%98%E8%A7%A3/"/>
    
      <category term="POJ" scheme="https://anoyer.cn/tags/POJ/"/>
    
  </entry>
  
  <entry>
    <title>POJ - 3974 - Palindrome(裸马拉车)</title>
    <link href="https://anoyer.cn/article/POJ-3974-Palindrome-%E8%A3%B8%E9%A9%AC%E6%8B%89%E8%BD%A6.html"/>
    <id>https://anoyer.cn/article/POJ-3974-Palindrome-裸马拉车.html</id>
    <published>2018-12-05T12:51:13.000Z</published>
    <updated>2018-12-05T12:53:51.047Z</updated>
    
    <content type="html"><![CDATA[<p><img src="https://img.vim-cn.com/db/891d7d5b709436d2812c1853cba6fd3ac98ee9.jpg" alt=""></p><h3 id="博主链接"><a href="#博主链接" class="headerlink" title="博主链接"></a><a href="https://me.csdn.net/Anoy_acer" target="_blank" rel="noopener">博主链接</a></h3><h2 id="题目链接"><a href="#题目链接" class="headerlink" title="题目链接"></a><a href="http://poj.org/problem?id=3974" target="_blank" rel="noopener">题目链接</a></h2><p><img src="https://img.vim-cn.com/a2/4c803db0501e6785e47e12d645dfee64c18e0d.png" alt=""></p><h3 id="题意："><a href="#题意：" class="headerlink" title="题意："></a>题意：</h3><p>给一个字符串，求连续最长的回文子串的长度。</p><h3 id="题解："><a href="#题解：" class="headerlink" title="题解："></a>题解：</h3><p>利用Manacher算法，裸的模板题，不多说了。不懂Manacher算法—-见<a href="https://blog.csdn.net/Anoy_acer/article/details/81102233" target="_blank" rel="noopener">Manacher最长回文串算法</a></p><h3 id="代码："><a href="#代码：" class="headerlink" title="代码："></a>代码：</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> met(a) memset(a,0,sizeof(a));</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn = <span class="number">1000050</span>;</span><br><span class="line"><span class="keyword">char</span> s[maxn];</span><br><span class="line"><span class="keyword">char</span> s_new[maxn * <span class="number">2</span>];</span><br><span class="line"><span class="keyword">int</span> p[maxn * <span class="number">2</span>];</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">Init</span><span class="params">()</span></span>&#123;</span><br><span class="line"><span class="keyword">int</span> len = <span class="built_in">strlen</span>(s);</span><br><span class="line">s_new[<span class="number">0</span>] = <span class="string">'$'</span>;</span><br><span class="line">s_new[<span class="number">1</span>] = <span class="string">'#'</span>;</span><br><span class="line"><span class="keyword">int</span> j = <span class="number">2</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; len; i++)&#123;</span><br><span class="line">s_new[j++] = s[i];</span><br><span class="line">s_new[j++] = <span class="string">'#'</span>;</span><br><span class="line">&#125;</span><br><span class="line">s_new[j] = <span class="string">'\0'</span>;</span><br><span class="line"><span class="comment">//printf("%s\n",s_new);</span></span><br><span class="line"><span class="keyword">return</span> j;  <span class="comment">//返回s_new的长度  </span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">Manacher</span><span class="params">()</span></span>&#123;</span><br><span class="line"><span class="keyword">int</span> len = Init();  <span class="comment">//取得新字符串长度并完成向s_new的转换  </span></span><br><span class="line"><span class="keyword">int</span> maxLen = <span class="number">-1</span>;   <span class="comment">//最长回文长度  </span></span><br><span class="line"><span class="keyword">int</span> id;</span><br><span class="line"><span class="keyword">int</span> mx = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; len; i++)&#123;</span><br><span class="line"><span class="keyword">if</span> (i &lt; mx)</span><br><span class="line">p[i] = min(p[<span class="number">2</span> * id - i], mx - i);  <span class="comment">//需搞清楚上面那张图含义, mx和2*id-i的含义</span></span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">p[i] = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">while</span> (s_new[i - p[i]] == s_new[i + p[i]])  <span class="comment">//不需边界判断，因为左有'$',右有'\0'  </span></span><br><span class="line">p[i]++;</span><br><span class="line"><span class="comment">//我们每走一步i，都要和mx比较，我们希望mx尽可能的远，这样才能更有机会执行if (i &lt; mx)这句代码，从而提高效率 </span></span><br><span class="line"><span class="keyword">if</span> (mx &lt; i + p[i])  &#123;</span><br><span class="line">id = i;</span><br><span class="line">mx = i + p[i];</span><br><span class="line">&#125;</span><br><span class="line">maxLen = max(maxLen, p[i] - <span class="number">1</span>);</span><br><span class="line"><span class="comment">// printf("%d %d %d\n",mx,id,maxLen);</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*for(int i=1;i&lt;=len;i++)printf("%d ",p[i]);</span></span><br><span class="line"><span class="comment">printf("\n");*/</span></span><br><span class="line"><span class="keyword">return</span> maxLen;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line"><span class="keyword">int</span> t = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">while</span> (<span class="built_in">scanf</span>(<span class="string">"%s"</span>, s))&#123;</span><br><span class="line">t++;</span><br><span class="line"><span class="built_in">memset</span>(p, <span class="number">0</span>, <span class="keyword">sizeof</span>(p));</span><br><span class="line"><span class="keyword">if</span> (s[<span class="number">0</span>] == <span class="string">'E'</span>&amp;&amp;s[<span class="number">1</span>] == <span class="string">'N'</span>&amp;&amp;s[<span class="number">2</span>] == <span class="string">'D'</span>)<span class="keyword">break</span>;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"Case %d: %d\n"</span>, t, Manacher());</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;&lt;img src=&quot;https://img.vim-cn.com/db/891d7d5b709436d2812c1853cba6fd3ac98ee9.jpg&quot; alt=&quot;&quot;&gt;&lt;/p&gt;&lt;h3 id=&quot;博主链接&quot;&gt;&lt;a href=&quot;#博主链接&quot; class=&quot;headerlin
      
    
    </summary>
    
      <category term="题解" scheme="https://anoyer.cn/categories/%E9%A2%98%E8%A7%A3/"/>
    
    
      <category term="字符串题解" scheme="https://anoyer.cn/tags/%E5%AD%97%E7%AC%A6%E4%B8%B2%E9%A2%98%E8%A7%A3/"/>
    
      <category term="Manacher" scheme="https://anoyer.cn/tags/Manacher/"/>
    
      <category term="POJ" scheme="https://anoyer.cn/tags/POJ/"/>
    
  </entry>
  
  <entry>
    <title>HDU-3746-Cyclic Nacklace （KMP求循环节）</title>
    <link href="https://anoyer.cn/article/HDU-3746-Cyclic-Nacklace-%EF%BC%88KMP%E6%B1%82%E5%BE%AA%E7%8E%AF%E8%8A%82%EF%BC%89.html"/>
    <id>https://anoyer.cn/article/HDU-3746-Cyclic-Nacklace-（KMP求循环节）.html</id>
    <published>2018-12-05T12:49:32.000Z</published>
    <updated>2018-12-05T12:50:51.998Z</updated>
    
    <content type="html"><![CDATA[<p><img src="https://img.vim-cn.com/66/e0ed2f573b4ed8b60d15d5b84ba3c5ace7b19d.jpg" alt=""></p><h3 id="博主链接"><a href="#博主链接" class="headerlink" title="博主链接"></a><a href="https://me.csdn.net/Anoy_acer" target="_blank" rel="noopener">博主链接</a></h3><h2 id="题目链接"><a href="#题目链接" class="headerlink" title="题目链接"></a><a href="http://acm.hdu.edu.cn/showproblem.php?pid=3746" target="_blank" rel="noopener">题目链接</a></h2><p><img src="https://img.vim-cn.com/68/60e881361a8ea56aaa4d25b2e238630d2a441a.png" alt=""></p><p>Sample Input</p><blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&gt;3</span><br><span class="line">&gt;aaa</span><br><span class="line">&gt;abca</span><br><span class="line">&gt;abcde</span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure></blockquote><p>Sample Output</p><blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&gt; 0</span><br><span class="line">&gt; 2</span><br><span class="line">&gt; 5</span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure></blockquote><h3 id="题意："><a href="#题意：" class="headerlink" title="题意："></a>题意：</h3><p>给你一些串，问如果想让这个串里面的循环节至少循环两次，需要添加几个字符（只能在最前面或者最后面添加）。比如ababc 需要添加5个就是添加ababc。</p><h3 id="题解："><a href="#题解：" class="headerlink" title="题解："></a>题解：</h3><p>利用Next数组的性质：</p><p>符合 <strong>i % ( i - next[i] ) == 0 &amp;&amp; next[i] != 0 , 则**</strong>说明字符串循环，而且**</p><p><strong>循环节长度为: i - next[i]</strong></p><p>循环次数为: i / ( i - next[i] )</p><h3 id="代码："><a href="#代码：" class="headerlink" title="代码："></a>代码：</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> N = <span class="number">1e5</span>+<span class="number">5</span>;</span><br><span class="line"><span class="keyword">int</span> n, next[N];</span><br><span class="line"><span class="keyword">char</span> str[N];</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">getNext</span> <span class="params">()</span> </span>&#123;</span><br><span class="line">n = <span class="built_in">strlen</span> (str+<span class="number">1</span>);</span><br><span class="line"><span class="keyword">int</span> p = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">2</span>; i &lt;= n; i++) &#123;</span><br><span class="line"><span class="keyword">while</span> (p &gt; <span class="number">0</span> &amp;&amp; str[p+<span class="number">1</span>] != str[i])</span><br><span class="line">p = next[p];</span><br><span class="line"> </span><br><span class="line"><span class="keyword">if</span> (str[p+<span class="number">1</span>] == str[i])</span><br><span class="line">p++;</span><br><span class="line">next[i] = p;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span> <span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="keyword">int</span> cas;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;cas);</span><br><span class="line"><span class="keyword">while</span> (cas--) &#123;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">"%s"</span>, str+<span class="number">1</span>);</span><br><span class="line">getNext();</span><br><span class="line"><span class="keyword">int</span> n= <span class="built_in">strlen</span> (str+<span class="number">1</span>);</span><br><span class="line"><span class="keyword">if</span> (next[n] == <span class="number">0</span>) <span class="built_in">printf</span>(<span class="string">"%d\n"</span>, n);</span><br><span class="line"><span class="keyword">else</span> &#123;</span><br><span class="line"><span class="keyword">int</span> k = n - next[n];</span><br><span class="line"><span class="keyword">if</span> (n%k == <span class="number">0</span>) <span class="built_in">printf</span>(<span class="string">"0\n"</span>);</span><br><span class="line"><span class="keyword">else</span> <span class="built_in">printf</span>(<span class="string">"%d\n"</span>, k - (n - (n/k) * k));</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;&lt;img src=&quot;https://img.vim-cn.com/66/e0ed2f573b4ed8b60d15d5b84ba3c5ace7b19d.jpg&quot; alt=&quot;&quot;&gt;&lt;/p&gt;&lt;h3 id=&quot;博主链接&quot;&gt;&lt;a href=&quot;#博主链接&quot; class=&quot;headerlin
      
    
    </summary>
    
      <category term="题解" scheme="https://anoyer.cn/categories/%E9%A2%98%E8%A7%A3/"/>
    
    
      <category term="HDU" scheme="https://anoyer.cn/tags/HDU/"/>
    
      <category term="KMP" scheme="https://anoyer.cn/tags/KMP/"/>
    
      <category term="字符串题解" scheme="https://anoyer.cn/tags/%E5%AD%97%E7%AC%A6%E4%B8%B2%E9%A2%98%E8%A7%A3/"/>
    
  </entry>
  
  <entry>
    <title>Codeforces Round #525 (Div. 2) -C. Ehab and a 2-operation task</title>
    <link href="https://anoyer.cn/article/Codeforces-Round-525-Div-2-C-Ehab-and-a-2-operation-task.html"/>
    <id>https://anoyer.cn/article/Codeforces-Round-525-Div-2-C-Ehab-and-a-2-operation-task.html</id>
    <published>2018-12-04T16:25:42.000Z</published>
    <updated>2018-12-04T16:27:00.136Z</updated>
    
    <content type="html"><![CDATA[<p><img src="https://img.vim-cn.com/96/a7b4f4226e9172292006493c1526807b58327c.jpg" alt=""></p><h3 id="博主链接"><a href="#博主链接" class="headerlink" title="博主链接"></a><a href="https://me.csdn.net/Anoy_acer" target="_blank" rel="noopener">博主链接</a></h3><h2 id="题目链接"><a href="#题目链接" class="headerlink" title="题目链接"></a><a href="https://codeforces.com/contest/1088/problem/C" target="_blank" rel="noopener">题目链接</a></h2><p><img src="https://img.vim-cn.com/47/e4b495b1a9027c37f160a62f49c2fb94ddc31d.png" alt=""></p><pre><code>**Note**In the first sample, the array is already increasing so we don&apos;t need any operations.In the second sample:In the first step: the array becomes [8,6,3].In the second step: the array becomes [0,2,3].    </code></pre><h3 id="题意："><a href="#题意：" class="headerlink" title="题意："></a>题意：</h3><p>给你一个n，然后n个数a[1~n],现在你可以对数组进行两种操作：</p><ul><li>对a[1~i]所有的数+x</li><li>对a[1~i]所有的数对x取模</li></ul><p>要求你在n+1次操作内将数组a变成一个递增序列，并输出每次的操作（答案不唯一）</p><h3 id="题解："><a href="#题解：" class="headerlink" title="题解："></a>题解：</h3><p>答案说了可以n+1次，那么就先对每个位置都进行一次操作1，让所有数在着n次1操作结束后对n取模值等于下表i，因为每次操作影响范围为1~i，所以可以选择倒着扫，保证处理过的数不会再变化。最后进行一次操作2，对1~n进行对n取模</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn=<span class="number">1e4</span>+<span class="number">7</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> mod=<span class="number">1e9</span>+<span class="number">7</span>;</span><br><span class="line"><span class="keyword">int</span> a[maxn];</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n;</span><br><span class="line">    <span class="built_in">cin</span>&gt;&gt;n;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++)&#123;</span><br><span class="line">        <span class="built_in">cin</span>&gt;&gt;a[i];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;n+<span class="number">1</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    ll sum=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> ans=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=n;i&gt;=<span class="number">1</span>;i--)&#123;</span><br><span class="line">        ans=(i-(a[i]+sum)%(n+<span class="number">1</span>)+n+<span class="number">1</span>)%(n+<span class="number">1</span>);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"1 %d %d\n"</span>,i,ans);</span><br><span class="line">        sum+=ans;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"2 %d %d\n"</span>,n,n+<span class="number">1</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;&lt;img src=&quot;https://img.vim-cn.com/96/a7b4f4226e9172292006493c1526807b58327c.jpg&quot; alt=&quot;&quot;&gt;&lt;/p&gt;&lt;h3 id=&quot;博主链接&quot;&gt;&lt;a href=&quot;#博主链接&quot; class=&quot;headerlin
      
    
    </summary>
    
      <category term="题解" scheme="https://anoyer.cn/categories/%E9%A2%98%E8%A7%A3/"/>
    
    
      <category term="codeforces" scheme="https://anoyer.cn/tags/codeforces/"/>
    
      <category term="思维题" scheme="https://anoyer.cn/tags/%E6%80%9D%E7%BB%B4%E9%A2%98/"/>
    
  </entry>
  
  <entry>
    <title>Codeforces Round #525 (Div. 2)-B. Ehab and subtraction</title>
    <link href="https://anoyer.cn/article/Codeforces-Round-525-Div-2-B-Ehab-and-subtraction.html"/>
    <id>https://anoyer.cn/article/Codeforces-Round-525-Div-2-B-Ehab-and-subtraction.html</id>
    <published>2018-12-04T16:22:50.000Z</published>
    <updated>2018-12-04T16:24:21.059Z</updated>
    
    <content type="html"><![CDATA[<p><img src="https://img.vim-cn.com/e7/8281f8b77b5a7a439dd861824bba0ada60386d.jpg" alt=""></p><h3 id="博主链接"><a href="#博主链接" class="headerlink" title="博主链接"></a><a href="https://me.csdn.net/Anoy_acer" target="_blank" rel="noopener">博主链接</a></h3><h2 id="题目链接"><a href="#题目链接" class="headerlink" title="题目链接"></a><a href="https://codeforces.com/contest/1088/problem/B" target="_blank" rel="noopener">题目链接</a></h2><p><img src="https://img.vim-cn.com/e6/334111023f4887778556d14a0f6b8455941f70.png" alt=""></p><p><strong>Note</strong></p><p>In the first sample:</p><p>In the first step: the array is [1,2,3][1,2,3], so the minimum non-zero element is 1.</p><p>In the second step: the array is [0,1,2][0,1,2], so the minimum non-zero element is 1.</p><p>In the third step: the array is [0,0,1][0,0,1], so the minimum non-zero element is 1.</p><p>In the fourth and fifth step: the array is [0,0,0][0,0,0], so we printed 0.</p><p>In the second sample:</p><p>In the first step: the array is [10,3,5,3][10,3,5,3], so the minimum non-zero element is 3.</p><p>In the second step: the array is [7,0,2,0][7,0,2,0], so the minimum non-zero element is 2.</p><h3 id="题意："><a href="#题意：" class="headerlink" title="题意："></a>题意：</h3><p>给你两个整数n,k,然后n个整数a[1~n]。然后进行k次操作，每次操作打印出最小非零元素，并把所有非零元素减去这个数；如果没有没有非零数了就打印零</p><h3 id="题解："><a href="#题解：" class="headerlink" title="题解："></a>题解：</h3><p>先用sort对a排序，然后从最小位置开始消，同时定义一个变量sum，记录每一次操作前面减去数字的和，也就是当前位置需要减的数字。同时特判下当前位置数-sum==0，如果为真直接跳过看下一位，同时因为跳过了所以一定要k++;</p><h3 id="代码："><a href="#代码：" class="headerlink" title="代码："></a>代码：</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn=<span class="number">1e5</span>+<span class="number">7</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> mod=<span class="number">1e9</span>+<span class="number">7</span>;</span><br><span class="line"><span class="keyword">int</span> a[maxn];</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n,k;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%d%d"</span>,&amp;n,&amp;k);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n;i++)<span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;a[i]);</span><br><span class="line">    sort(a,a+n);</span><br><span class="line">    ll sum=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;k;i++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(i&gt;=n)<span class="built_in">printf</span>(<span class="string">"0\n"</span>);</span><br><span class="line">        <span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="keyword">if</span>(a[i]-sum==<span class="number">0</span>)&#123;</span><br><span class="line">                k++;</span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"%d\n"</span>,a[i]-sum);</span><br><span class="line">            sum=a[i];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;&lt;img src=&quot;https://img.vim-cn.com/e7/8281f8b77b5a7a439dd861824bba0ada60386d.jpg&quot; alt=&quot;&quot;&gt;&lt;/p&gt;&lt;h3 id=&quot;博主链接&quot;&gt;&lt;a href=&quot;#博主链接&quot; class=&quot;headerlin
      
    
    </summary>
    
      <category term="题解" scheme="https://anoyer.cn/categories/%E9%A2%98%E8%A7%A3/"/>
    
    
      <category term="codeforces" scheme="https://anoyer.cn/tags/codeforces/"/>
    
      <category term="思维题" scheme="https://anoyer.cn/tags/%E6%80%9D%E7%BB%B4%E9%A2%98/"/>
    
  </entry>
  
  <entry>
    <title>Codeforces Round #525 (Div. 2) (2)-A. Ehab and another construction problem</title>
    <link href="https://anoyer.cn/article/Codeforces-Round-525-Div-2-2-A-Ehab-and-another-construction-problem.html"/>
    <id>https://anoyer.cn/article/Codeforces-Round-525-Div-2-2-A-Ehab-and-another-construction-problem.html</id>
    <published>2018-12-04T16:19:49.000Z</published>
    <updated>2018-12-04T16:24:30.298Z</updated>
    
    <content type="html"><![CDATA[<p><img src="https://img.vim-cn.com/6f/ae1c391fe75d5ce3951fc30ace8d2d0439270b.jpg" alt=""></p><h3 id="博主链接"><a href="#博主链接" class="headerlink" title="博主链接"></a><a href="https://me.csdn.net/Anoy_acer" target="_blank" rel="noopener">博主链接</a></h3><h2 id="题目链接"><a href="#题目链接" class="headerlink" title="题目链接"></a><a href="https://codeforces.com/contest/1088/problem/A" target="_blank" rel="noopener">题目链接</a></h2><p><img src="https://img.vim-cn.com/a3/621951f785b25681e0a1c0f2d4d54967206a9a.png" alt=""></p><h3 id="题意："><a href="#题意：" class="headerlink" title="题意："></a>题意：</h3><p>给你一个x,让你求出两个整数a,b，满足他给的那些条件</p><h3 id="题解："><a href="#题解：" class="headerlink" title="题解："></a>题解：</h3><p>数据范围很小就100，直接O(n*n)暴力枚举就可以了</p><h3 id="代码："><a href="#代码：" class="headerlink" title="代码："></a>代码：</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn=<span class="number">1e6</span>+<span class="number">7</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> mod=<span class="number">1e9</span>+<span class="number">7</span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> x;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;x);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=x;i++)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">1</span>;j&lt;=i;j++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(i%j==<span class="number">0</span>&amp;&amp;j*i&gt;x)&#123;</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">"%d %d\n"</span>,i,j);</span><br><span class="line">                <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"-1\n"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;&lt;img src=&quot;https://img.vim-cn.com/6f/ae1c391fe75d5ce3951fc30ace8d2d0439270b.jpg&quot; alt=&quot;&quot;&gt;&lt;/p&gt;&lt;h3 id=&quot;博主链接&quot;&gt;&lt;a href=&quot;#博主链接&quot; class=&quot;headerlin
      
    
    </summary>
    
      <category term="题解" scheme="https://anoyer.cn/categories/%E9%A2%98%E8%A7%A3/"/>
    
    
      <category term="codeforces" scheme="https://anoyer.cn/tags/codeforces/"/>
    
      <category term="暴力题" scheme="https://anoyer.cn/tags/%E6%9A%B4%E5%8A%9B%E9%A2%98/"/>
    
  </entry>
  
  <entry>
    <title>HDU-2328-Corporate Identity(利用string函数)</title>
    <link href="https://anoyer.cn/article/HDU-2328-Corporate-Identity-%E5%88%A9%E7%94%A8string%E5%87%BD%E6%95%B0.html"/>
    <id>https://anoyer.cn/article/HDU-2328-Corporate-Identity-利用string函数.html</id>
    <published>2018-12-04T13:27:43.000Z</published>
    <updated>2018-12-04T16:28:30.843Z</updated>
    
    <content type="html"><![CDATA[<p><img src="https://img.vim-cn.com/75/95522305c0d3120bd2cff61f3e704208f7a88f.jpg" alt=""></p><h3 id="博主链接"><a href="#博主链接" class="headerlink" title="博主链接"></a><a href="https://me.csdn.net/Anoy_acer" target="_blank" rel="noopener">博主链接</a></h3><h2 id="题目链接"><a href="#题目链接" class="headerlink" title="题目链接"></a><a href="http://acm.hdu.edu.cn/showproblem.php?pid=2328" target="_blank" rel="noopener">题目链接</a></h2><p><img src="https://img.vim-cn.com/ab/a1f5037aeeb263530ce8bcb3a394ef2d26defd.png" alt=""></p><h3 id="题意："><a href="#题意：" class="headerlink" title="题意："></a>题意：</h3><p>给你n个字符串，问你这n个串的最长公共子串</p><h3 id="题解："><a href="#题解：" class="headerlink" title="题解："></a>题解：</h3><p>题目和HDU-1238感觉差不多，暴力枚举任意一个字符串的所有子串，然后暴力匹配，这里用string解决的；</p><h3 id="代码："><a href="#代码：" class="headerlink" title="代码："></a>代码：</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn=<span class="number">4050</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> mod=<span class="number">1e9</span>+<span class="number">7</span>;</span><br><span class="line"><span class="built_in">string</span> s[maxn];</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n;</span><br><span class="line">    ios::sync_with_stdio(<span class="number">0</span>);</span><br><span class="line">    <span class="keyword">while</span>((<span class="built_in">cin</span>&gt;&gt;n)&amp;&amp;n!=<span class="number">0</span>)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++)&#123;</span><br><span class="line">            <span class="built_in">cin</span>&gt;&gt;s[i];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">string</span> t;</span><br><span class="line">        <span class="keyword">int</span> cot=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> maxx=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> len=s[<span class="number">1</span>].size();</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;len;i++)&#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">1</span>;j&lt;=len-i;j++)&#123;      <span class="comment">//枚举子串长度</span></span><br><span class="line">                <span class="keyword">if</span>(j&lt;maxx)<span class="keyword">continue</span>;</span><br><span class="line">                cot=<span class="number">0</span>;</span><br><span class="line">                <span class="keyword">for</span>(<span class="keyword">int</span> k=<span class="number">2</span>;k&lt;=n;k++)&#123;</span><br><span class="line">                    <span class="keyword">if</span>(s[k].find(s[<span class="number">1</span>].substr(i,j))==<span class="built_in">string</span>::npos)<span class="keyword">break</span>; <span class="comment">//string函数查找</span></span><br><span class="line">                    <span class="keyword">else</span> cot++;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span>(cot==n<span class="number">-1</span>)&#123;<span class="comment">//如果这个子串出现了n-1次，选取的那个串本身就有一次，则维护maxx</span></span><br><span class="line">                    <span class="keyword">if</span>(maxx&lt;j)&#123;</span><br><span class="line">                        maxx=j;</span><br><span class="line">                        t=s[<span class="number">1</span>].substr(i,j);</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="keyword">else</span> <span class="keyword">if</span>(maxx==j)&#123;</span><br><span class="line">                        <span class="keyword">if</span>(t&gt;s[<span class="number">1</span>].substr(i,j))t=s[<span class="number">1</span>].substr(i,j);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(maxx==<span class="number">0</span>)<span class="built_in">cout</span>&lt;&lt;<span class="string">"IDENTITY LOST"</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">        <span class="keyword">else</span> <span class="built_in">cout</span>&lt;&lt;t&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;&lt;img src=&quot;https://img.vim-cn.com/75/95522305c0d3120bd2cff61f3e704208f7a88f.jpg&quot; alt=&quot;&quot;&gt;&lt;/p&gt;&lt;h3 id=&quot;博主链接&quot;&gt;&lt;a href=&quot;#博主链接&quot; class=&quot;headerlin
      
    
    </summary>
    
      <category term="题解" scheme="https://anoyer.cn/categories/%E9%A2%98%E8%A7%A3/"/>
    
    
      <category term="暴力题" scheme="https://anoyer.cn/tags/%E6%9A%B4%E5%8A%9B%E9%A2%98/"/>
    
      <category term="HDU" scheme="https://anoyer.cn/tags/HDU/"/>
    
      <category term="字符串题解" scheme="https://anoyer.cn/tags/%E5%AD%97%E7%AC%A6%E4%B8%B2%E9%A2%98%E8%A7%A3/"/>
    
      <category term="STL" scheme="https://anoyer.cn/tags/STL/"/>
    
  </entry>
  
  <entry>
    <title>HDU-1238-Substrings(求公共子串)</title>
    <link href="https://anoyer.cn/article/HDU-1238-Substrings-%E6%B1%82%E5%85%AC%E5%85%B1%E5%AD%90%E4%B8%B2.html"/>
    <id>https://anoyer.cn/article/HDU-1238-Substrings-求公共子串.html</id>
    <published>2018-12-04T13:26:00.000Z</published>
    <updated>2018-12-04T16:28:40.567Z</updated>
    
    <content type="html"><![CDATA[<p><img src="https://img.vim-cn.com/51/8feab9a36aa58ff2fb080573cf2fa6bfca9842.jpg" alt=""></p><h3 id="博主链接"><a href="#博主链接" class="headerlink" title="博主链接"></a><a href="https://me.csdn.net/Anoy_acer" target="_blank" rel="noopener">博主链接</a></h3><h2 id="题目链接"><a href="#题目链接" class="headerlink" title="题目链接"></a><a href="http://acm.hdu.edu.cn/showproblem.php?pid=1238" target="_blank" rel="noopener">题目链接</a></h2><p><img src="https://img.vim-cn.com/1c/505dfba42792af3c1149d623746d83766bc4f7.png" alt=""></p><h3 id="题意："><a href="#题意：" class="headerlink" title="题意："></a>题意：</h3><p>找出所有字符串中共同拥有的一个子串，该子串（正、逆字符）是任何一个母串的子串，求该子串的最长长度。</p><h3 id="题解："><a href="#题解：" class="headerlink" title="题解："></a>题解：</h3><p>利用string库里的find函数+STL中的reverse反转函数。先找出最短的母串，即该符合要求的子串肯定在这个母串中，即在从长到短，从最短母串中取子串，在子串正反去查看是否符合要求。</p><h3 id="代码："><a href="#代码：" class="headerlink" title="代码："></a>代码：</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> met(a) memset(a,0,sizeof(a))</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> fup(i,a,n,b) for(int i=a;i&lt;n;i+=b)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> fow(j,a,n,b) for(int j=a;j&gt;0;j-=b)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> MOD(x) (x)%mod</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> mod = <span class="number">1e9</span> + <span class="number">7</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="built_in">string</span> s[<span class="number">120</span>];</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="keyword">int</span> t;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;t);</span><br><span class="line"><span class="keyword">while</span> ( t--) &#123;</span><br><span class="line"><span class="keyword">int</span> n,sub;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;n);</span><br><span class="line"><span class="keyword">int</span> len = <span class="number">1000</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line"><span class="built_in">cin</span> &gt;&gt; s[i];</span><br><span class="line"><span class="keyword">if</span> (s[i].size() &lt; len)len = s[i].size(), sub = i;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">int</span> maxn = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = s[sub].size(); i &gt; <span class="number">0</span>; i--) &#123;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt;= s[sub].size(); j++) &#123;</span><br><span class="line"><span class="built_in">string</span> s1, s2;</span><br><span class="line">s1 = s[sub].substr(j, i);</span><br><span class="line">s2 = s1;</span><br><span class="line">reverse(s2.begin(), s2.end());   <span class="comment">//反转</span></span><br><span class="line"><span class="keyword">int</span> k;</span><br><span class="line"><span class="keyword">for</span> (k = <span class="number">0</span>; k &lt; n; k++) &#123;</span><br><span class="line"><span class="keyword">if</span> (s[k].find(s1, <span class="number">0</span>) == <span class="number">-1</span> &amp;&amp; s[k].find(s2, <span class="number">0</span>) == <span class="number">-1</span>)<span class="keyword">break</span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> (k == n &amp;&amp; maxn &lt; s1.size())maxn = s1.size();</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"%d\n"</span>, maxn);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;&lt;img src=&quot;https://img.vim-cn.com/51/8feab9a36aa58ff2fb080573cf2fa6bfca9842.jpg&quot; alt=&quot;&quot;&gt;&lt;/p&gt;&lt;h3 id=&quot;博主链接&quot;&gt;&lt;a href=&quot;#博主链接&quot; class=&quot;headerlin
      
    
    </summary>
    
      <category term="题解" scheme="https://anoyer.cn/categories/%E9%A2%98%E8%A7%A3/"/>
    
    
      <category term="暴力题" scheme="https://anoyer.cn/tags/%E6%9A%B4%E5%8A%9B%E9%A2%98/"/>
    
      <category term="HDU" scheme="https://anoyer.cn/tags/HDU/"/>
    
      <category term="字符串题解" scheme="https://anoyer.cn/tags/%E5%AD%97%E7%AC%A6%E4%B8%B2%E9%A2%98%E8%A7%A3/"/>
    
      <category term="STL" scheme="https://anoyer.cn/tags/STL/"/>
    
  </entry>
  
  <entry>
    <title>HDU - 4847 - Wow! Such Doge!(暴力)</title>
    <link href="https://anoyer.cn/article/HDU-4847-Wow-Such-Doge-%E6%9A%B4%E5%8A%9B.html"/>
    <id>https://anoyer.cn/article/HDU-4847-Wow-Such-Doge-暴力.html</id>
    <published>2018-12-04T13:23:59.000Z</published>
    <updated>2018-12-04T16:24:52.150Z</updated>
    
    <content type="html"><![CDATA[<p><img src="https://img.vim-cn.com/1f/3a48f00d0a21f1d66630ae41514ca360405230.jpg" alt=""></p><h3 id="博主链接"><a href="#博主链接" class="headerlink" title="博主链接"></a><a href="https://me.csdn.net/Anoy_acer" target="_blank" rel="noopener">博主链接</a></h3><h2 id="题目链接"><a href="#题目链接" class="headerlink" title="题目链接"></a><a href="http://acm.hdu.edu.cn/showproblem.php?pid=4847" target="_blank" rel="noopener">题目链接</a></h2><blockquote><p><strong>题面太长了，就不上题目截图了QAQ</strong></p></blockquote><h3 id="题意："><a href="#题意：" class="headerlink" title="题意："></a>题意：</h3><blockquote><p>在给出的段落里面找出“doge”出现的次数，大小写都可以。<del>（超级大水题，就考你输入恶心恶心人）</del></p></blockquote><h3 id="题解："><a href="#题解：" class="headerlink" title="题解："></a>题解：</h3><blockquote><p>直接暴力求每一句话出现的<code>doge</code>次数（大小写不限），在一块就可以了输入格式处理—-把类似于“Wow! Such Dooooooooooooooge!!!“这种一行输入看出多个字符串输入，这里看成三个字符串，所以直接用%s存，存一个处理一个</p></blockquote><h3 id="代码："><a href="#代码：" class="headerlink" title="代码："></a>代码：</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn=<span class="number">1e6</span>+<span class="number">21</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> mod=<span class="number">1e9</span>+<span class="number">7</span>;</span><br><span class="line"><span class="keyword">char</span> s[maxn];</span><br><span class="line"><span class="keyword">int</span> ans=<span class="number">0</span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">while</span>(<span class="built_in">scanf</span>(<span class="string">"%s"</span>,s)!=EOF)&#123;</span><br><span class="line">        <span class="keyword">int</span> len=<span class="built_in">strlen</span>(s);</span><br><span class="line">        <span class="keyword">if</span>(len&lt;<span class="number">3</span>)<span class="keyword">continue</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;len<span class="number">-3</span>;i++)&#123;</span><br><span class="line">            <span class="keyword">if</span>((s[i]==<span class="string">'d'</span>||s[i]==<span class="string">'D'</span>)&amp;&amp;(s[i+<span class="number">1</span>]==<span class="string">'o'</span>||s[i+<span class="number">1</span>]==<span class="string">'O'</span>)&amp;&amp;(s[i+<span class="number">2</span>]==<span class="string">'g'</span>||s[i+<span class="number">2</span>]==<span class="string">'G'</span>)&amp;&amp;(s[i+<span class="number">3</span>]==<span class="string">'e'</span>||s[i+<span class="number">3</span>]==<span class="string">'E'</span>))&#123;</span><br><span class="line">                ans++;</span><br><span class="line">                i+=<span class="number">3</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"%d\n"</span>,ans);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;&lt;img src=&quot;https://img.vim-cn.com/1f/3a48f00d0a21f1d66630ae41514ca360405230.jpg&quot; alt=&quot;&quot;&gt;&lt;/p&gt;&lt;h3 id=&quot;博主链接&quot;&gt;&lt;a href=&quot;#博主链接&quot; class=&quot;headerlin
      
    
    </summary>
    
      <category term="题解" scheme="https://anoyer.cn/categories/%E9%A2%98%E8%A7%A3/"/>
    
    
      <category term="暴力题" scheme="https://anoyer.cn/tags/%E6%9A%B4%E5%8A%9B%E9%A2%98/"/>
    
      <category term="HDU" scheme="https://anoyer.cn/tags/HDU/"/>
    
      <category term="字符串题解" scheme="https://anoyer.cn/tags/%E5%AD%97%E7%AC%A6%E4%B8%B2%E9%A2%98%E8%A7%A3/"/>
    
  </entry>
  
  <entry>
    <title>HDU - 4513 - 吉哥系列故事――完美队形II (马拉车加判断条件)</title>
    <link href="https://anoyer.cn/article/HDU-4513-%E5%90%89%E5%93%A5%E7%B3%BB%E5%88%97%E6%95%85%E4%BA%8B%E2%80%95%E2%80%95%E5%AE%8C%E7%BE%8E%E9%98%9F%E5%BD%A2II-%E9%A9%AC%E6%8B%89%E8%BD%A6%E5%8A%A0%E5%88%A4%E6%96%AD%E6%9D%A1%E4%BB%B6.html"/>
    <id>https://anoyer.cn/article/HDU-4513-吉哥系列故事――完美队形II-马拉车加判断条件.html</id>
    <published>2018-12-04T13:20:21.000Z</published>
    <updated>2018-12-04T13:23:38.606Z</updated>
    
    <content type="html"><![CDATA[<p><img src="https://img.vim-cn.com/2b/18869d694e9c7f834279f8896e4eaa68f8bf3c.jpg" alt=""></p><h3 id="博主链接"><a href="#博主链接" class="headerlink" title="博主链接"></a><a href="https://me.csdn.net/Anoy_acer" target="_blank" rel="noopener">博主链接</a></h3><h2 id="题目链接"><a href="#题目链接" class="headerlink" title="题目链接"></a><a href="http://acm.hdu.edu.cn/showproblem.php?pid=4513" target="_blank" rel="noopener">题目链接</a></h2><p><img src="https://img.vim-cn.com/81/435a266aa4c1e6e9a9385cc5642bc379cec801.png" alt=""></p><h3 id="题意："><a href="#题意：" class="headerlink" title="题意："></a>题意：</h3><p>在一个长度为n的数组里面找回文串，要求回文串从中间向两边一次递减</p><h3 id="题解："><a href="#题解：" class="headerlink" title="题解："></a>题解：</h3><p>在manacher过程中添加限制语句保证题目要求即可</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(s_new[i+p[i]]!=<span class="number">-1111</span>)&#123;   <span class="comment">//如果前面位置大于当前位置，则不符合跳出</span></span><br><span class="line">    <span class="keyword">if</span>(s_new[i+p[i]]&lt;=s_new[i+p[i]<span class="number">-2</span>])p[i]++;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">int</span> s[<span class="number">100050</span>];</span><br><span class="line"><span class="keyword">int</span> s_new[<span class="number">100050</span>*<span class="number">2</span>];</span><br><span class="line"><span class="keyword">int</span> p[<span class="number">100050</span>*<span class="number">2</span>];</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">Init</span><span class="params">(<span class="keyword">int</span> len)</span></span>&#123;</span><br><span class="line">    s_new[<span class="number">0</span>] = <span class="number">-111</span>;</span><br><span class="line">    s_new[<span class="number">1</span>] = <span class="number">-1111</span>;</span><br><span class="line">    <span class="keyword">int</span> j = <span class="number">2</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; len; i++)&#123;</span><br><span class="line">        s_new[j++] = s[i];</span><br><span class="line">        s_new[j++] = <span class="number">-1111</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    s_new[j] = <span class="number">-11</span>;  <span class="comment">//别忘了哦</span></span><br><span class="line">    <span class="keyword">return</span> j;  <span class="comment">//返回s_new的长度</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">Manacher</span><span class="params">(<span class="keyword">int</span> len)</span></span></span><br><span class="line"><span class="function"></span>&#123;        <span class="comment">//取得新字符串长度并完成向s_new的转换</span></span><br><span class="line">    <span class="keyword">int</span> maxLen = <span class="number">-1</span>;   <span class="comment">//最长回文长度</span></span><br><span class="line">    <span class="keyword">int</span> id;</span><br><span class="line">    <span class="keyword">int</span> mx = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; len; i++)&#123;</span><br><span class="line">        <span class="keyword">if</span> (i &lt; mx)</span><br><span class="line">            p[i] = min(p[<span class="number">2</span> * id - i], mx - i);  <span class="comment">//需搞清楚上面那张图含义, mx和2*id-i的含义</span></span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            p[i] = <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span> (s_new[i - p[i]] == s_new[i + p[i]])  <span class="comment">//不需边界判断，因为左有'$',右有'\0'</span></span><br><span class="line">         &#123;</span><br><span class="line">            <span class="keyword">if</span>(s_new[i+p[i]]!=<span class="number">-1111</span>)&#123;   <span class="comment">//如果前面位置大于当前位置，则不符合跳出</span></span><br><span class="line">                <span class="keyword">if</span>(s_new[i+p[i]]&lt;=s_new[i+p[i]<span class="number">-2</span>])p[i]++;</span><br><span class="line">                <span class="keyword">else</span> <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            p[i]++;</span><br><span class="line">         &#125;</span><br><span class="line">        <span class="comment">//我们每走一步i，都要和mx比较，我们希望mx尽可能的远，这样才能更有机会执行if (i &lt; mx)这句代码，从而提高效率</span></span><br><span class="line">        <span class="keyword">if</span> (mx &lt; i + p[i])  &#123;</span><br><span class="line">            id = i;</span><br><span class="line">            mx = i + p[i];</span><br><span class="line">        &#125;</span><br><span class="line">        maxLen = max(maxLen, p[i] - <span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> maxLen;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> t;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;t);</span><br><span class="line">    <span class="keyword">while</span> (t--)&#123;</span><br><span class="line">        <span class="keyword">int</span> n;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;n);</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n;i++)<span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;s[i]);</span><br><span class="line">        <span class="keyword">int</span> len=Init(n);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%d\n"</span>, Manacher(len));</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;&lt;img src=&quot;https://img.vim-cn.com/2b/18869d694e9c7f834279f8896e4eaa68f8bf3c.jpg&quot; alt=&quot;&quot;&gt;&lt;/p&gt;&lt;h3 id=&quot;博主链接&quot;&gt;&lt;a href=&quot;#博主链接&quot; class=&quot;headerlin
      
    
    </summary>
    
      <category term="题解" scheme="https://anoyer.cn/categories/%E9%A2%98%E8%A7%A3/"/>
    
    
      <category term="HDU" scheme="https://anoyer.cn/tags/HDU/"/>
    
      <category term="字符串题解" scheme="https://anoyer.cn/tags/%E5%AD%97%E7%AC%A6%E4%B8%B2%E9%A2%98%E8%A7%A3/"/>
    
      <category term="Manacher" scheme="https://anoyer.cn/tags/Manacher/"/>
    
  </entry>
  
  <entry>
    <title>HDU - 4763 -Theme Section(迭代求公共前后缀跑KMP)</title>
    <link href="https://anoyer.cn/article/HDU-4763-Theme-Section-%E8%BF%AD%E4%BB%A3%E6%B1%82%E5%85%AC%E5%85%B1%E5%89%8D%E5%90%8E%E7%BC%80%E8%B7%91KMP.html"/>
    <id>https://anoyer.cn/article/HDU-4763-Theme-Section-迭代求公共前后缀跑KMP.html</id>
    <published>2018-12-04T13:17:14.000Z</published>
    <updated>2018-12-04T13:33:06.147Z</updated>
    
    <content type="html"><![CDATA[<p><img src="https://img.vim-cn.com/cb/5169844b6a378284cf05a542a05c5d027ed2c8.jpg" alt=""></p><h3 id="博主链接"><a href="#博主链接" class="headerlink" title="博主链接"></a><a href="https://me.csdn.net/Anoy_acer" target="_blank" rel="noopener">博主链接</a></h3><h2 id="题目链接"><a href="#题目链接" class="headerlink" title="题目链接"></a><a href="http://acm.hdu.edu.cn/showproblem.php?pid=4763" target="_blank" rel="noopener">题目链接</a></h2><p><img src="https://img.vim-cn.com/a2/ec2c1e9e86d7e9d645dbff2b4f70dabfbcb2e9.png" alt=""></p><h3 id="题意："><a href="#题意：" class="headerlink" title="题意："></a>题意：</h3><p>给一个字符串，求出字符串的最大的相同前缀后缀，并且满足前缀后缀在字符串中间出现了。</p><h3 id="题解："><a href="#题解：" class="headerlink" title="题解："></a>题解：</h3><p>可以先对字符串跑KMP求一下Next数组，由next数组定义可以知道，里面存的是当前字符最长前缀和后缀，所以我们只需要从最后一个字符出发，递归寻找每个长度为的Next值的前缀后缀，对于长度为len的前缀，只需要用该前缀起和字符串的除了前缀和后缀的部分匹配就可以了，如果匹配成功，就看是否需要更新答案。</p><h3 id="代码："><a href="#代码：" class="headerlink" title="代码："></a>代码：</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn=<span class="number">1e6</span>+<span class="number">21</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> mod=<span class="number">1e9</span>+<span class="number">7</span>;</span><br><span class="line"><span class="keyword">char</span> s[maxn];</span><br><span class="line"><span class="keyword">int</span> nex[maxn];</span><br><span class="line"><span class="keyword">int</span> len;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">GetNex</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> j=<span class="number">-1</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;s[i];i++)&#123;</span><br><span class="line">        <span class="keyword">while</span>(s[i]!=s[j+<span class="number">1</span>]&amp;&amp;j!=<span class="number">-1</span>)j=nex[j];</span><br><span class="line">        <span class="keyword">if</span>(s[i]==s[j+<span class="number">1</span>]&amp;&amp;i!=<span class="number">0</span>)j++;</span><br><span class="line">        nex[i]=j;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">kmp</span><span class="params">(<span class="keyword">int</span> l)</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> j=<span class="number">-1</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=l;i&lt;len-l;i++)&#123;</span><br><span class="line">        <span class="keyword">while</span>(j!=<span class="number">-1</span>&amp;&amp;s[j+<span class="number">1</span>]!=s[i])j=nex[j];</span><br><span class="line">        <span class="keyword">if</span>(s[i]==s[j+<span class="number">1</span>])j++;</span><br><span class="line">        <span class="keyword">if</span>(j+<span class="number">1</span>==l)<span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> t;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;t);</span><br><span class="line">    <span class="keyword">while</span>(t--)&#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%s"</span>,s);</span><br><span class="line">        len=<span class="built_in">strlen</span>(s);</span><br><span class="line">        <span class="keyword">if</span>(len&lt;<span class="number">3</span>)&#123;</span><br><span class="line">            <span class="built_in">puts</span>(<span class="string">"0"</span>);</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        GetNex();</span><br><span class="line">        <span class="keyword">int</span> ans=nex[len<span class="number">-1</span>];</span><br><span class="line">        <span class="keyword">int</span> mx=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span>(ans!=<span class="number">-1</span>)&#123;</span><br><span class="line">            <span class="keyword">if</span>(kmp(ans+<span class="number">1</span>))&#123;</span><br><span class="line">                mx=max(mx,ans+<span class="number">1</span>);  <span class="comment">//查找中间是否有这个串</span></span><br><span class="line">            &#125;</span><br><span class="line">            ans=nex[ans];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%d\n"</span>,mx);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;&lt;img src=&quot;https://img.vim-cn.com/cb/5169844b6a378284cf05a542a05c5d027ed2c8.jpg&quot; alt=&quot;&quot;&gt;&lt;/p&gt;&lt;h3 id=&quot;博主链接&quot;&gt;&lt;a href=&quot;#博主链接&quot; class=&quot;headerlin
      
    
    </summary>
    
      <category term="题解" scheme="https://anoyer.cn/categories/%E9%A2%98%E8%A7%A3/"/>
    
    
      <category term="HDU" scheme="https://anoyer.cn/tags/HDU/"/>
    
      <category term="KMP" scheme="https://anoyer.cn/tags/KMP/"/>
    
      <category term="字符串题解" scheme="https://anoyer.cn/tags/%E5%AD%97%E7%AC%A6%E4%B8%B2%E9%A2%98%E8%A7%A3/"/>
    
  </entry>
  
</feed>
